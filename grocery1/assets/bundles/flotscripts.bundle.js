!function(a){a.color={},a.color.make=function(t,e,i,o){var n={};return n.r=t||0,n.g=e||0,n.b=i||0,n.a=null!=o?o:1,n.add=function(t,e){for(var i=0;i<t.length;++i)n[t.charAt(i)]+=e;return n.normalize()},n.scale=function(t,e){for(var i=0;i<t.length;++i)n[t.charAt(i)]*=e;return n.normalize()},n.toString=function(){return 1<=n.a?"rgb("+[n.r,n.g,n.b].join(",")+")":"rgba("+[n.r,n.g,n.b,n.a].join(",")+")"},n.normalize=function(){function t(t,e,i){return e<t?t:i<e?i:e}return n.r=t(0,parseInt(n.r),255),n.g=t(0,parseInt(n.g),255),n.b=t(0,parseInt(n.b),255),n.a=t(0,n.a,1),n},n.clone=function(){return a.color.make(n.r,n.b,n.g,n.a)},n.normalize()},a.color.extract=function(t,e){var i;do{if(""!=(i=t.css(e).toLowerCase())&&"transparent"!=i)break;t=t.parent()}while(t.length&&!a.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),a.color.parse(i)},a.color.parse=function(t){var e,i=a.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return i(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return i(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var o=a.trim(t).toLowerCase();return"transparent"==o?i(255,255,255,0):i((e=n[o]||[0,0,0])[0],e[1],e[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(_){var f=Object.prototype.hasOwnProperty;function $(t,e){var i=e.children("."+t)[0];if(null==i&&((i=document.createElement("canvas")).className=t,_(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var o=this.context=i.getContext("2d"),n=window.devicefalconRatio||1,a=o.webkitBackingStorefalconRatio||o.mozBackingStorefalconRatio||o.msBackingStorefalconRatio||o.oBackingStorefalconRatio||o.backingStorefalconRatio||1;this.falconRatio=n/a,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function o(m,t,e,o){var C=[],A={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},f=null,i=null,h=null,k=null,c=null,d=[],g=[],w={left:0,right:0,top:0,bottom:0},M=0,T=0,z={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},S=this;function P(t,e){e=[S].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function n(t){C=function(t){for(var e=[],i=0;i<t.length;++i){var o=_.extend(!0,{},A.series);null!=t[i].data?(o.data=t[i].data,delete t[i].data,_.extend(!0,o,t[i]),t[i].data=o.data):o.data=t[i],e.push(o)}return e}(t),function(){var t,e=C.length,i=-1;for(t=0;t<C.length;++t){var o=C[t].color;null!=o&&(e--,"number"==typeof o&&i<o&&(i=o))}e<=i&&(e=i+1);var n,a=[],r=A.colors,s=r.length,l=0;for(t=0;t<e;t++)n=_.color.parse(r[t%s]||"#666"),t%s==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),a[t]=n.scale("rgb",1+l);var c,h=0;for(t=0;t<C.length;++t){if(null==(c=C[t]).color?(c.color=a[h].toString(),++h):"number"==typeof c.color&&(c.color=a[c.color].toString()),null==c.lines.show){var p,u=!0;for(p in c)if(c[p]&&c[p].show){u=!1;break}u&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=v(d,x(c,"x")),c.yaxis=v(g,x(c,"y"))}}(),function(){var t,e,i,o,n,a,r,s,l,c,h,p,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,d=Number.MAX_VALUE;function g(t,e,i){e<t.datamin&&e!=-d&&(t.datamin=e),i>t.datamax&&i!=d&&(t.datamax=i)}for(_.each(W(),function(t,e){e.datamin=u,e.datamax=f,e.used=!1}),t=0;t<C.length;++t)(n=C[t]).datapoints={points:[]},P(z.processRawData,[n,n.data,n.datapoints]);for(t=0;t<C.length;++t){if(n=C[t],h=n.data,!(p=n.datapoints.format)){if((p=[]).push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),n.bars.show||n.lines.show&&n.lines.fill){var m=!!(n.bars.show&&n.bars.zero||n.lines.show&&n.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:m}),n.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}n.datapoints.format=p}if(null==n.datapoints.pointsize){n.datapoints.pointsize=p.length,r=n.datapoints.pointsize,a=n.datapoints.points;var x=n.lines.show&&n.lines.steps;for(n.xaxis.used=n.yaxis.used=!0,e=i=0;e<h.length;++e,i+=r){var v=null==(c=h[e]);if(!v)for(o=0;o<r;++o)s=c[o],(l=p[o])&&(l.number&&null!=s&&(s=+s,isNaN(s)?s=null:s==1/0?s=d:s==-1/0&&(s=-d)),null==s&&(l.required&&(v=!0),null!=l.defaultValue&&(s=l.defaultValue))),a[i+o]=s;if(v)for(o=0;o<r;++o)null!=(s=a[i+o])&&!1!==(l=p[o]).autoscale&&(l.x&&g(n.xaxis,s,s),l.y&&g(n.yaxis,s,s)),a[i+o]=null;else if(x&&0<i&&null!=a[i-r]&&a[i-r]!=a[i]&&a[i-r+1]!=a[i+1]){for(o=0;o<r;++o)a[i+r+o]=a[i+o];a[i+1]=a[i-r+1],i+=r}}}}for(t=0;t<C.length;++t)n=C[t],P(z.processDatapoints,[n,n.datapoints]);for(t=0;t<C.length;++t){n=C[t],a=n.datapoints.points,r=n.datapoints.pointsize,p=n.datapoints.format;var b=u,y=u,k=f,w=f;for(e=0;e<a.length;e+=r)if(null!=a[e])for(o=0;o<r;++o)s=a[e+o],(l=p[o])&&!1!==l.autoscale&&s!=d&&s!=-d&&(l.x&&(s<b&&(b=s),k<s&&(k=s)),l.y&&(s<y&&(y=s),w<s&&(w=s)));if(n.bars.show){var M;switch(n.bars.align){case"left":M=0;break;case"right":M=-n.bars.barWidth;break;default:M=-n.bars.barWidth/2}n.bars.horizontal?(y+=M,w+=M+n.bars.barWidth):(b+=M,k+=M+n.bars.barWidth)}g(n.xaxis,b,k),g(n.yaxis,y,w)}_.each(W(),function(t,e){e.datamin==u&&(e.datamin=null),e.datamax==f&&(e.datamax=null)})}()}function x(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function W(){return _.grep(d.concat(g),function(t){return t})}function p(t){var e,i,o={};for(e=0;e<d.length;++e)(i=d[e])&&i.used&&(o["x"+i.n]=i.c2p(t.left));for(e=0;e<g.length;++e)(i=g[e])&&i.used&&(o["y"+i.n]=i.c2p(t.top));return void 0!==o.x1&&(o.x=o.x1),void 0!==o.y1&&(o.y=o.y1),o}function v(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==d?"x":"y",options:_.extend(!0,{},t==d?A.xaxis:A.yaxis)}),t[e-1]}function a(){D&&clearTimeout(D),h.unbind("mousemove",R),h.unbind("mouseleave",N),h.unbind("click",L),P(z.shutdown,[h])}function r(i){var t=i.labelWidth,e=i.labelHeight,o=i.options.position,n="x"===i.direction,a=i.options.tickLength,r=A.grid.axisMargin,s=A.grid.labelMargin,l=!0,c=!0,h=!0,p=!1;_.each(n?d:g,function(t,e){e&&(e.show||e.reserveSpace)&&(e===i?p=!0:e.options.position===o&&(p?c=!1:l=!1),p||(h=!1))}),c&&(r=0),null==a&&(a=h?"full":5),isNaN(+a)||(s+=+a),n?(e+=s,"bottom"==o?(w.bottom+=e+r,i.box={top:f.height-w.bottom,height:e}):(i.box={top:w.top+r,height:e},w.top+=e+r)):(t+=s,"left"==o?(i.box={left:w.left+r,width:t},w.left+=t+r):(w.right+=t+r,i.box={left:f.width-w.right,width:t})),i.position=o,i.tickLength=a,i.box.padding=s,i.innermost=l}function s(){var t,e=W(),i=A.grid.show;for(var o in w){var n=A.grid.margin||0;w[o]="number"==typeof n?n:n[o]||0}for(var o in P(z.processOffset,[w]),w)"object"==typeof A.grid.borderWidth?w[o]+=i?A.grid.borderWidth[o]:0:w[o]+=i?A.grid.borderWidth:0;if(_.each(e,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,function(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),o=+(null!=e.max?e.max:t.datamax),n=o-i;if(0==n){var a=0==o?1:.01;null==e.min&&(i-=a),null!=e.max&&null==e.min||(o+=a)}else{var r=e.autoscaleMargin;null!=r&&(null==e.min&&(i-=n*r)<0&&null!=t.datamin&&0<=t.datamin&&(i=0),null==e.max&&0<(o+=n*r)&&null!=t.datamax&&t.datamax<=0&&(o=0))}t.min=i,t.max=o}(e)}),i){var a=_.grep(e,function(t){return t.show||t.reserveSpace});for(_.each(a,function(t,e){var i,o;!function(t){var e,i=t.options;e="number"==typeof i.ticks&&0<i.ticks?i.ticks:.3*Math.sqrt("x"==t.direction?f.width:f.height);var o=(t.max-t.min)/e,n=-Math.floor(Math.log(o)/Math.LN10),a=i.tickDecimals;null!=a&&a<n&&(n=a);var r,s=Math.pow(10,-n),l=o/s;l<1.5?r=1:l<3?(r=2,2.25<l&&(null==a||n+1<=a)&&(r=2.5,++n)):r=l<7.5?5:10;r*=s,null!=i.minTickSize&&r<i.minTickSize&&(r=i.minTickSize);if(t.delta=o,t.tickDecimals=Math.max(0,null!=a?a:n),t.tickSize=i.tickSize||r,"time"==i.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(t){for(var e,i,o,n=[],a=(i=t.min,(o=t.tickSize)*Math.floor(i/o)),r=0,s=Number.NaN;e=s,s=a+r*t.tickSize,n.push(s),++r,s<t.max&&s!=e;);return n},t.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,o=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var n=o.indexOf("."),a=-1==n?0:o.length-n-1;if(a<e.tickDecimals)return(a?o:o+".")+(""+i).substr(1,e.tickDecimals-a)}return o});_.isFunction(i.tickFormatter)&&(t.tickFormatter=function(t,e){return""+i.tickFormatter(t,e)});if(null!=i.alignTicksWithAxis){var c=("x"==t.direction?d:g)[i.alignTicksWithAxis-1];if(c&&c.used&&c!=t){var h=t.tickGenerator(t);if(0<h.length&&(null==i.min&&(t.min=Math.min(t.min,h[0])),null==i.max&&1<h.length&&(t.max=Math.max(t.max,h[h.length-1]))),t.tickGenerator=function(t){var e,i,o=[];for(i=0;i<c.ticks.length;++i)e=(c.ticks[i].v-c.min)/(c.max-c.min),e=t.min+e*(t.max-t.min),o.push(e);return o},!t.mode&&null==i.tickDecimals){var p=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),u=t.tickGenerator(t);1<u.length&&/\..*0$/.test((u[1]-u[0]).toFixed(p))||(t.tickDecimals=p)}}}}(e),function(t){var e,i,o=t.options.ticks,n=[];null==o||"number"==typeof o&&0<o?n=t.tickGenerator(t):o&&(n=_.isFunction(o)?o(t):o);for(t.ticks=[],e=0;e<n.length;++e){var a=null,r=n[e];"object"==typeof r?(i=+r[0],1<r.length&&(a=r[1])):i=+r,null==a&&(a=t.tickFormatter(i,t)),isNaN(i)||t.ticks.push({v:i,label:a})}}(e),o=(i=e).ticks,i.options.autoscaleMargin&&0<o.length&&(null==i.options.min&&(i.min=Math.min(i.min,o[0].v)),null==i.options.max&&1<o.length&&(i.max=Math.max(i.max,o[o.length-1].v))),function(t){for(var e=t.options,i=t.ticks||[],o=e.labelWidth||0,n=e.labelHeight||0,a=o||("x"==t.direction?Math.floor(f.width/(i.length||1)):null),r=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+r,l=e.font||"flot-tick-label tickLabel",c=0;c<i.length;++c){var h=i[c];if(h.label){var p=f.getTextInfo(s,h.label,l,null,a);o=Math.max(o,p.width),n=Math.max(n,p.height)}}t.labelWidth=e.labelWidth||o,t.labelHeight=e.labelHeight||n}(e)}),t=a.length-1;0<=t;--t)r(a[t]);!function(){var t,e=A.grid.minBorderMargin;if(null==e)for(t=e=0;t<C.length;++t)e=Math.max(e,2*(C[t].points.radius+C[t].points.lineWidth/2));var i={left:e,right:e,top:e,bottom:e};_.each(W(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),i.right=Math.max(i.right,e.labelWidth/2)):(i.bottom=Math.max(i.bottom,e.labelHeight/2),i.top=Math.max(i.top,e.labelHeight/2)))}),w.left=Math.ceil(Math.max(i.left,w.left)),w.right=Math.ceil(Math.max(i.right,w.right)),w.top=Math.ceil(Math.max(i.top,w.top)),w.bottom=Math.ceil(Math.max(i.bottom,w.bottom))}(),_.each(a,function(t,e){var i;"x"==(i=e).direction?(i.box.left=w.left-i.labelWidth/2,i.box.width=f.width-w.left-w.right+i.labelWidth):(i.box.top=w.top-i.labelHeight/2,i.box.height=f.height-w.bottom-w.top+i.labelHeight)})}M=f.width-w.left-w.right,T=f.height-w.bottom-w.top,_.each(e,function(t,e){!function(t){function e(t){return t}var i,o,n=t.options.transform||e,a=t.options.inverseTransform;o="x"==t.direction?(i=t.scale=M/Math.abs(n(t.max)-n(t.min)),Math.min(n(t.max),n(t.min))):(i=-(i=t.scale=T/Math.abs(n(t.max)-n(t.min))),Math.max(n(t.max),n(t.min))),t.p2c=n==e?function(t){return(t-o)*i}:function(t){return(n(t)-o)*i},t.c2p=a?function(t){return a(o+t/i)}:function(t){return o+t/i}}(e)}),i&&_.each(W(),function(t,e){var i,o,n,a,r,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,h=e.options.font||"flot-tick-label tickLabel";if(f.removeText(c),e.show&&0!=e.ticks.length)for(var p=0;p<e.ticks.length;++p)!(i=e.ticks[p]).label||i.v<e.min||i.v>e.max||("x"==e.direction?(a="center",o=w.left+e.p2c(i.v),"bottom"==e.position?n=s.top+s.padding:(n=s.top+s.height-s.padding,r="bottom")):(r="middle",n=w.top+e.p2c(i.v),"left"==e.position?(o=s.left+s.width-s.padding,a="right"):o=s.left+s.padding),f.addText(c,o,n,i.label,h,null,null,a,r))}),function(){null!=A.legend.container?_(A.legend.container).html(""):m.find(".legend").remove();if(!A.legend.show)return;for(var t,e,i=[],o=[],n=!1,a=A.legend.labelFormatter,r=0;r<C.length;++r)(t=C[r]).label&&(e=a?a(t.label,t):t.label)&&o.push({label:e,color:t.color});if(A.legend.sorted)if(_.isFunction(A.legend.sorted))o.sort(A.legend.sorted);else if("reverse"==A.legend.sorted)o.reverse();else{var s="descending"!=A.legend.sorted;o.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=s?1:-1})}for(var r=0;r<o.length;++r){var l=o[r];r%A.legend.noColumns==0&&(n&&i.push("</tr>"),i.push("<tr>"),n=!0),i.push('<td class="legendColorBox"><div style="border:1px solid '+A.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}n&&i.push("</tr>");if(0==i.length)return;var c='<table style="font-size:smaller;color:'+A.grid.color+'">'+i.join("")+"</table>";if(null!=A.legend.container)_(A.legend.container).html(c);else{var h="",p=A.legend.position,u=A.legend.margin;null==u[0]&&(u=[u,u]),"n"==p.charAt(0)?h+="top:"+(u[1]+w.top)+"px;":"s"==p.charAt(0)&&(h+="bottom:"+(u[1]+w.bottom)+"px;"),"e"==p.charAt(1)?h+="right:"+(u[0]+w.right)+"px;":"w"==p.charAt(1)&&(h+="left:"+(u[0]+w.left)+"px;");var f=_('<div class="legend">'+c.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(m);if(0!=A.legend.backgroundOpacity){var d=A.legend.backgroundColor;null==d&&((d=(d=A.grid.backgroundColor)&&"string"==typeof d?_.color.parse(d):_.color.extract(f,"background-color")).a=1,d=d.toString());var g=f.children();_('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+h+"background-color:"+d+';"> </div>').prependTo(f).css("opacity",A.legend.backgroundOpacity)}}}()}function l(){f.clear(),P(z.drawBackground,[k]);var t=A.grid;t.show&&t.backgroundColor&&(k.save(),k.translate(w.left,w.top),k.fillStyle=V(A.grid.backgroundColor,T,0,"rgba(255, 255, 255, 0)"),k.fillRect(0,0,M,T),k.restore()),t.show&&!t.aboveData&&u();for(var e=0;e<C.length;++e)P(z.drawSeries,[k,C[e]]),b(C[e]);P(z.draw,[k]),t.show&&t.aboveData&&u(),f.render(),q()}function O(t,e){for(var i,o,n,a,r=W(),s=0;s<r.length;++s)if((i=r[s]).direction==e&&(t[a=e+i.n+"axis"]||1!=i.n||(a=e+"axis"),t[a])){o=t[a].from,n=t[a].to;break}if(t[a]||(i="x"==e?d[0]:g[0],o=t[e+"1"],n=t[e+"2"]),null!=o&&null!=n&&n<o){var l=o;o=n,n=l}return{from:o,to:n,axis:i}}function u(){var t,e,i,o;k.save(),k.translate(w.left,w.top);var n=A.grid.markings;if(n)for(_.isFunction(n)&&((e=S.getAxes()).xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,n=n(e)),t=0;t<n.length;++t){var a=n[t],r=O(a,"x"),s=O(a,"y");if(null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),!(r.to<r.axis.min||r.from>r.axis.max||s.to<s.axis.min||s.from>s.axis.max)){r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max);var l=r.from===r.to,c=s.from===s.to;if(!l||!c)if(r.from=Math.floor(r.axis.p2c(r.from)),r.to=Math.floor(r.axis.p2c(r.to)),s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l||c){var h=a.lineWidth||A.grid.markingsLineWidth,p=h%2?.5:0;k.beginPath(),k.strokeStyle=a.color||A.grid.markingsColor,k.lineWidth=h,l?(k.moveTo(r.to+p,s.from),k.lineTo(r.to+p,s.to)):(k.moveTo(r.from,s.to+p),k.lineTo(r.to,s.to+p)),k.stroke()}else k.fillStyle=a.color||A.grid.markingsColor,k.fillRect(r.from,s.to,r.to-r.from,s.from-s.to)}}e=W(),i=A.grid.borderWidth;for(var u=0;u<e.length;++u){var f,d,g,m,x=e[u],v=x.box,b=x.tickLength;if(x.show&&0!=x.ticks.length){for(k.lineWidth=1,"x"==x.direction?(f=0,d="full"==b?"top"==x.position?0:T:v.top-w.top+("top"==x.position?v.height:0)):(d=0,f="full"==b?"left"==x.position?0:M:v.left-w.left+("left"==x.position?v.width:0)),x.innermost||(k.strokeStyle=x.options.color,k.beginPath(),g=m=0,"x"==x.direction?g=M+1:m=T+1,1==k.lineWidth&&("x"==x.direction?d=Math.floor(d)+.5:f=Math.floor(f)+.5),k.moveTo(f,d),k.lineTo(f+g,d+m),k.stroke()),k.strokeStyle=x.options.tickColor,k.beginPath(),t=0;t<x.ticks.length;++t){var y=x.ticks[t].v;g=m=0,isNaN(y)||y<x.min||y>x.max||"full"==b&&("object"==typeof i&&0<i[x.position]||0<i)&&(y==x.min||y==x.max)||("x"==x.direction?(f=x.p2c(y),m="full"==b?-T:b,"top"==x.position&&(m=-m)):(d=x.p2c(y),g="full"==b?-M:b,"left"==x.position&&(g=-g)),1==k.lineWidth&&("x"==x.direction?f=Math.floor(f)+.5:d=Math.floor(d)+.5),k.moveTo(f,d),k.lineTo(f+g,d+m))}k.stroke()}}i&&(o=A.grid.borderColor,"object"==typeof i||"object"==typeof o?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),0<i.top&&(k.strokeStyle=o.top,k.lineWidth=i.top,k.beginPath(),k.moveTo(0-i.left,0-i.top/2),k.lineTo(M,0-i.top/2),k.stroke()),0<i.right&&(k.strokeStyle=o.right,k.lineWidth=i.right,k.beginPath(),k.moveTo(M+i.right/2,0-i.top),k.lineTo(M+i.right/2,T),k.stroke()),0<i.bottom&&(k.strokeStyle=o.bottom,k.lineWidth=i.bottom,k.beginPath(),k.moveTo(M+i.right,T+i.bottom/2),k.lineTo(0,T+i.bottom/2),k.stroke()),0<i.left&&(k.strokeStyle=o.left,k.lineWidth=i.left,k.beginPath(),k.moveTo(0-i.left/2,T+i.bottom),k.lineTo(0-i.left/2,0),k.stroke())):(k.lineWidth=i,k.strokeStyle=A.grid.borderColor,k.strokeRect(-i/2,-i/2,M+i,T+i))),k.restore()}function b(t){t.lines.show&&function(t){function e(t,e,i,o,n){var a=t.points,r=t.pointsize,s=null,l=null;k.beginPath();for(var c=r;c<a.length;c+=r){var h=a[c-r],p=a[c-r+1],u=a[c],f=a[c+1];if(null!=h&&null!=u){if(p<=f&&p<n.min){if(f<n.min)continue;h=(n.min-p)/(f-p)*(u-h)+h,p=n.min}else if(f<=p&&f<n.min){if(p<n.min)continue;u=(n.min-p)/(f-p)*(u-h)+h,f=n.min}if(f<=p&&p>n.max){if(f>n.max)continue;h=(n.max-p)/(f-p)*(u-h)+h,p=n.max}else if(p<=f&&f>n.max){if(p>n.max)continue;u=(n.max-p)/(f-p)*(u-h)+h,f=n.max}if(h<=u&&h<o.min){if(u<o.min)continue;p=(o.min-h)/(u-h)*(f-p)+p,h=o.min}else if(u<=h&&u<o.min){if(h<o.min)continue;f=(o.min-h)/(u-h)*(f-p)+p,u=o.min}if(u<=h&&h>o.max){if(u>o.max)continue;p=(o.max-h)/(u-h)*(f-p)+p,h=o.max}else if(h<=u&&u>o.max){if(h>o.max)continue;f=(o.max-h)/(u-h)*(f-p)+p,u=o.max}h==s&&p==l||k.moveTo(o.p2c(h)+e,n.p2c(p)+i),s=u,l=f,k.lineTo(o.p2c(u)+e,n.p2c(f)+i)}}k.stroke()}k.save(),k.translate(w.left,w.top),k.lineJoin="round";var i=t.lines.lineWidth,o=t.shadowSize;if(0<i&&0<o){k.lineWidth=o,k.strokeStyle="rgba(0,0,0,0.1)";var n=Math.PI/18;e(t.datapoints,Math.sin(n)*(i/2+o/2),Math.cos(n)*(i/2+o/2),t.xaxis,t.yaxis),k.lineWidth=o/2,e(t.datapoints,Math.sin(n)*(i/2+o/4),Math.cos(n)*(i/2+o/4),t.xaxis,t.yaxis)}k.lineWidth=i,k.strokeStyle=t.color;var a=I(t.lines,t.color,0,T);a&&(k.fillStyle=a,function(t,e,i){var o=t.points,n=t.pointsize,a=Math.min(Math.max(0,i.min),i.max),r=0,s=!1,l=1,c=0,h=0;for(;!(0<n&&r>o.length+n);){var p=o[(r+=n)-n],u=o[r-n+l],f=o[r],d=o[r+l];if(s){if(0<n&&null!=p&&null==f){h=r,n=-n,l=2;continue}if(n<0&&r==c+n){k.fill(),s=!1,l=1,r=c=h+(n=-n);continue}}if(null!=p&&null!=f){if(p<=f&&p<e.min){if(f<e.min)continue;u=(e.min-p)/(f-p)*(d-u)+u,p=e.min}else if(f<=p&&f<e.min){if(p<e.min)continue;d=(e.min-p)/(f-p)*(d-u)+u,f=e.min}if(f<=p&&p>e.max){if(f>e.max)continue;u=(e.max-p)/(f-p)*(d-u)+u,p=e.max}else if(p<=f&&f>e.max){if(p>e.max)continue;d=(e.max-p)/(f-p)*(d-u)+u,f=e.max}if(s||(k.beginPath(),k.moveTo(e.p2c(p),i.p2c(a)),s=!0),u>=i.max&&d>=i.max)k.lineTo(e.p2c(p),i.p2c(i.max)),k.lineTo(e.p2c(f),i.p2c(i.max));else if(u<=i.min&&d<=i.min)k.lineTo(e.p2c(p),i.p2c(i.min)),k.lineTo(e.p2c(f),i.p2c(i.min));else{var g=p,m=f;u<=d&&u<i.min&&d>=i.min?(p=(i.min-u)/(d-u)*(f-p)+p,u=i.min):d<=u&&d<i.min&&u>=i.min&&(f=(i.min-u)/(d-u)*(f-p)+p,d=i.min),d<=u&&u>i.max&&d<=i.max?(p=(i.max-u)/(d-u)*(f-p)+p,u=i.max):u<=d&&d>i.max&&u<=i.max&&(f=(i.max-u)/(d-u)*(f-p)+p,d=i.max),p!=g&&k.lineTo(e.p2c(g),i.p2c(u)),k.lineTo(e.p2c(p),i.p2c(u)),k.lineTo(e.p2c(f),i.p2c(d)),f!=m&&(k.lineTo(e.p2c(f),i.p2c(d)),k.lineTo(e.p2c(m),i.p2c(d)))}}}}(t.datapoints,t.xaxis,t.yaxis));0<i&&e(t.datapoints,0,0,t.xaxis,t.yaxis);k.restore()}(t),t.bars.show&&function(c){var t;switch(k.save(),k.translate(w.left,w.top),k.lineWidth=c.bars.lineWidth,k.strokeStyle=c.color,c.bars.align){case"left":t=0;break;case"right":t=-c.bars.barWidth;break;default:t=-c.bars.barWidth/2}var e=c.bars.fill?function(t,e){return I(c.bars,c.color,t,e)}:null;(function(t,e,i,o,n,a){for(var r=t.points,s=t.pointsize,l=0;l<r.length;l+=s)null!=r[l]&&y(r[l],r[l+1],r[l+2],e,i,o,n,a,k,c.bars.horizontal,c.bars.lineWidth)})(c.datapoints,t,t+c.bars.barWidth,e,c.xaxis,c.yaxis),k.restore()}(t),t.points.show&&function(t){function e(t,e,i,o,n,a,r,s){for(var l=t.points,c=t.pointsize,h=0;h<l.length;h+=c){var p=l[h],u=l[h+1];null==p||p<a.min||p>a.max||u<r.min||u>r.max||(k.beginPath(),p=a.p2c(p),u=r.p2c(u)+o,"circle"==s?k.arc(p,u,e,0,n?Math.PI:2*Math.PI,!1):s(k,p,u,e,n),k.closePath(),i&&(k.fillStyle=i,k.fill()),k.stroke())}}k.save(),k.translate(w.left,w.top);var i=t.points.lineWidth,o=t.shadowSize,n=t.points.radius,a=t.points.symbol;0==i&&(i=1e-4);if(0<i&&0<o){var r=o/2;k.lineWidth=r,k.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,n,null,r+r/2,!0,t.xaxis,t.yaxis,a),k.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,n,null,r/2,!0,t.xaxis,t.yaxis,a)}k.lineWidth=i,k.strokeStyle=t.color,e(t.datapoints,n,I(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),k.restore()}(t)}function y(t,e,i,o,n,a,r,s,l,c,h){var p,u,f,d,g,m,x,v,b;c?(v=m=x=!0,g=!1,d=e+o,f=e+n,(u=t)<(p=i)&&(b=u,u=p,p=b,m=!(g=!0))):(g=m=x=!0,v=!1,p=t+o,u=t+n,(d=e)<(f=i)&&(b=d,d=f,f=b,x=!(v=!0))),u<r.min||p>r.max||d<s.min||f>s.max||(p<r.min&&(p=r.min,g=!1),u>r.max&&(u=r.max,m=!1),f<s.min&&(f=s.min,v=!1),d>s.max&&(d=s.max,x=!1),p=r.p2c(p),f=s.p2c(f),u=r.p2c(u),d=s.p2c(d),a&&(l.fillStyle=a(f,d),l.fillRect(p,d,u-p,f-d)),0<h&&(g||m||x||v)&&(l.beginPath(),l.moveTo(p,f),g?l.lineTo(p,d):l.moveTo(p,d),x?l.lineTo(u,d):l.moveTo(u,d),m?l.lineTo(u,f):l.moveTo(u,f),v?l.lineTo(p,f):l.moveTo(p,f),l.stroke()))}function I(t,e,i,o){var n=t.fill;if(!n)return null;if(t.fillColor)return V(t.fillColor,i,o,e);var a=_.color.parse(e);return a.a="number"==typeof n?n:.4,a.normalize(),a.toString()}S.setData=n,S.setupGrid=s,S.draw=l,S.getPlaceholder=function(){return m},S.getCanvas=function(){return f.element},S.getPlotOffset=function(){return w},S.width=function(){return M},S.height=function(){return T},S.offset=function(){var t=h.offset();return t.left+=w.left,t.top+=w.top,t},S.getData=function(){return C},S.getAxes=function(){var i={};return _.each(d.concat(g),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},S.getXAxes=function(){return d},S.getYAxes=function(){return g},S.c2p=p,S.p2c=function(t){var e,i,o,n={};for(e=0;e<d.length;++e)if((i=d[e])&&i.used&&(o="x"+i.n,null==t[o]&&1==i.n&&(o="x"),null!=t[o])){n.left=i.p2c(t[o]);break}for(e=0;e<g.length;++e)if((i=g[e])&&i.used&&(o="y"+i.n,null==t[o]&&1==i.n&&(o="y"),null!=t[o])){n.top=i.p2c(t[o]);break}return n},S.getOptions=function(){return A},S.highlight=H,S.unhighlight=X,S.triggerRedrawOverlay=q,S.pointOffset=function(t){return{left:parseInt(d[x(t,"x")-1].p2c(+t.x)+w.left,10),top:parseInt(g[x(t,"y")-1].p2c(+t.y)+w.top,10)}},S.shutdown=a,S.destroy=function(){a(),m.removeData("plot").empty(),C=[],d=[],g=[],F=[],S=z=c=k=h=i=f=A=null},S.resize=function(){var t=m.width(),e=m.height();f.resize(t,e),i.resize(t,e)},S.hooks=z,function(){for(var t={Canvas:$},e=0;e<o.length;++e){var i=o[e];i.init(S,t),i.options&&_.extend(!0,A,i.options)}}(),function(t){_.extend(!0,A,t),t&&t.colors&&(A.colors=t.colors);null==A.xaxis.color&&(A.xaxis.color=_.color.parse(A.grid.color).scale("a",.22).toString());null==A.yaxis.color&&(A.yaxis.color=_.color.parse(A.grid.color).scale("a",.22).toString());null==A.xaxis.tickColor&&(A.xaxis.tickColor=A.grid.tickColor||A.xaxis.color);null==A.yaxis.tickColor&&(A.yaxis.tickColor=A.grid.tickColor||A.yaxis.color);null==A.grid.borderColor&&(A.grid.borderColor=A.grid.color);null==A.grid.tickColor&&(A.grid.tickColor=_.color.parse(A.grid.color).scale("a",.22).toString());var e,i,o,n=m.css("font-size"),a=n?+n.replace("px",""):13,r={style:m.css("font-style"),size:Math.round(.8*a),variant:m.css("font-variant"),weight:m.css("font-weight"),family:m.css("font-family")};for(o=A.xaxes.length||1,e=0;e<o;++e)(i=A.xaxes[e])&&!i.tickColor&&(i.tickColor=i.color),i=_.extend(!0,{},A.xaxis,i),(A.xaxes[e]=i).font&&(i.font=_.extend({},r,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(o=A.yaxes.length||1,e=0;e<o;++e)(i=A.yaxes[e])&&!i.tickColor&&(i.tickColor=i.color),i=_.extend(!0,{},A.yaxis,i),(A.yaxes[e]=i).font&&(i.font=_.extend({},r,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));A.xaxis.noTicks&&null==A.xaxis.ticks&&(A.xaxis.ticks=A.xaxis.noTicks);A.yaxis.noTicks&&null==A.yaxis.ticks&&(A.yaxis.ticks=A.yaxis.noTicks);A.x2axis&&(A.xaxes[1]=_.extend(!0,{},A.xaxis,A.x2axis),A.xaxes[1].position="top",null==A.x2axis.min&&(A.xaxes[1].min=null),null==A.x2axis.max&&(A.xaxes[1].max=null));A.y2axis&&(A.yaxes[1]=_.extend(!0,{},A.yaxis,A.y2axis),A.yaxes[1].position="right",null==A.y2axis.min&&(A.yaxes[1].min=null),null==A.y2axis.max&&(A.yaxes[1].max=null));A.grid.coloredAreas&&(A.grid.markings=A.grid.coloredAreas);A.grid.coloredAreasColor&&(A.grid.markingsColor=A.grid.coloredAreasColor);A.lines&&_.extend(!0,A.series.lines,A.lines);A.points&&_.extend(!0,A.series.points,A.points);A.bars&&_.extend(!0,A.series.bars,A.bars);null!=A.shadowSize&&(A.series.shadowSize=A.shadowSize);null!=A.highlightColor&&(A.series.highlightColor=A.highlightColor);for(e=0;e<A.xaxes.length;++e)v(d,e+1).options=A.xaxes[e];for(e=0;e<A.yaxes.length;++e)v(g,e+1).options=A.yaxes[e];for(var s in z)A.hooks[s]&&A.hooks[s].length&&(z[s]=z[s].concat(A.hooks[s]));P(z.processOptions,[A])}(e),function(){m.css("padding",0).children().filter(function(){return!_(this).hasClass("flot-overlay")&&!_(this).hasClass("flot-base")}).remove(),"static"==m.css("position")&&m.css("position","relative");f=new $("flot-base",m),i=new $("flot-overlay",m),k=f.context,c=i.context,h=_(i.element).unbind();var t=m.data("plot");t&&(t.shutdown(),i.clear());m.data("plot",S)}(),n(t),s(),l(),function(){A.grid.hoverable&&(h.mousemove(R),h.bind("mouseleave",N));A.grid.clickable&&h.click(L);P(z.bindEvents,[h])}();var F=[],D=null;function R(t){A.grid.hoverable&&j("plothover",t,function(t){return 0!=t.hoverable})}function N(t){A.grid.hoverable&&j("plothover",t,function(t){return!1})}function L(t){j("plotclick",t,function(t){return 0!=t.clickable})}function j(t,e,i){var o=h.offset(),n=e.pageX-o.left-w.left,a=e.pageY-o.top-w.top,r=p({left:n,top:a});r.pageX=e.pageX,r.pageY=e.pageY;var s=function(t,e,i){var o,n,a,r=A.grid.mouseActiveRadius,s=r*r+1,l=null;for(o=C.length-1;0<=o;--o)if(i(C[o])){var c=C[o],h=c.xaxis,p=c.yaxis,u=c.datapoints.points,f=h.c2p(t),d=p.c2p(e),g=r/h.scale,m=r/p.scale;if(a=c.datapoints.pointsize,h.options.inverseTransform&&(g=Number.MAX_VALUE),p.options.inverseTransform&&(m=Number.MAX_VALUE),c.lines.show||c.points.show)for(n=0;n<u.length;n+=a){var x=u[n],v=u[n+1];if(null!=x&&!(g<x-f||x-f<-g||m<v-d||v-d<-m)){var b=Math.abs(h.p2c(x)-t),y=Math.abs(p.p2c(v)-e),k=b*b+y*y;k<s&&(s=k,l=[o,n/a])}}if(c.bars.show&&!l){var w,M;switch(c.bars.align){case"left":w=0;break;case"right":w=-c.bars.barWidth;break;default:w=-c.bars.barWidth/2}for(M=w+c.bars.barWidth,n=0;n<u.length;n+=a){x=u[n],v=u[n+1];var T=u[n+2];null!=x&&(C[o].bars.horizontal?f<=Math.max(T,x)&&f>=Math.min(T,x)&&v+w<=d&&d<=v+M:x+w<=f&&f<=x+M&&d>=Math.min(T,v)&&d<=Math.max(T,v))&&(l=[o,n/a])}}}return l?(o=l[0],n=l[1],a=C[o].datapoints.pointsize,{datapoint:C[o].datapoints.points.slice(n*a,(n+1)*a),dataIndex:n,series:C[o],seriesIndex:o}):null}(n,a,i);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+o.left+w.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+o.top+w.top,10)),A.grid.autoHighlight){for(var l=0;l<F.length;++l){var c=F[l];c.auto!=t||s&&c.series==s.series&&c.point[0]==s.datapoint[0]&&c.point[1]==s.datapoint[1]||X(c.series,c.point)}s&&H(s.series,s.datapoint,t)}m.trigger(t,[r,s])}function q(){var t=A.interaction.redrawOverlayInterval;-1!=t?D||(D=setTimeout(E,t)):E()}function E(){var t,e;for(D=null,c.save(),i.clear(),c.translate(w.left,w.top),t=0;t<F.length;++t)(e=F[t]).series.bars.show?G(e.series,e.point):Y(e.series,e.point);c.restore(),P(z.drawOverlay,[c])}function H(t,e,i){if("number"==typeof t&&(t=C[t]),"number"==typeof e){var o=t.datapoints.pointsize;e=t.datapoints.points.slice(o*e,o*(e+1))}var n=B(t,e);-1==n?(F.push({series:t,point:e,auto:i}),q()):i||(F[n].auto=!1)}function X(t,e){if(null==t&&null==e)return F=[],void q();if("number"==typeof t&&(t=C[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var o=B(t,e);-1!=o&&(F.splice(o,1),q())}function B(t,e){for(var i=0;i<F.length;++i){var o=F[i];if(o.series==t&&o.point[0]==e[0]&&o.point[1]==e[1])return i}return-1}function Y(t,e){var i=e[0],o=e[1],n=t.xaxis,a=t.yaxis,r="string"==typeof t.highlightColor?t.highlightColor:_.color.parse(t.color).scale("a",.5).toString();if(!(i<n.min||i>n.max||o<a.min||o>a.max)){var s=t.points.radius+t.points.lineWidth/2;c.lineWidth=s,c.strokeStyle=r;var l=1.5*s;i=n.p2c(i),o=a.p2c(o),c.beginPath(),"circle"==t.points.symbol?c.arc(i,o,l,0,2*Math.PI,!1):t.points.symbol(c,i,o,l,!1),c.closePath(),c.stroke()}}function G(t,e){var i,o="string"==typeof t.highlightColor?t.highlightColor:_.color.parse(t.color).scale("a",.5).toString(),n=o;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}c.lineWidth=t.bars.lineWidth,c.strokeStyle=o,y(e[0],e[1],e[2]||0,i,i+t.bars.barWidth,function(){return n},t.xaxis,t.yaxis,c,t.bars.horizontal,t.bars.lineWidth)}function V(t,e,i,o){if("string"==typeof t)return t;for(var n=k.createLinearGradient(0,i,0,e),a=0,r=t.colors.length;a<r;++a){var s=t.colors[a];if("string"!=typeof s){var l=_.color.parse(o);null!=s.brightness&&(l=l.scale("rgb",s.brightness)),null!=s.opacity&&(l.a*=s.opacity),s=l.toString()}n.addColorStop(a/(r-1),s)}return n}}_.fn.detach||(_.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),$.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,o=this.context,n=this.falconRatio;this.width!=t&&(i.width=t*n,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*n,i.style.height=e+"px",this.height=e),o.restore(),o.save(),o.scale(n,n)},$.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},$.prototype.render=function(){var t=this._textCache;for(var e in t)if(f.call(t,e)){var i=this.getTextLayer(e),o=t[e];for(var n in i.hide(),o)if(f.call(o,n)){var a=o[n];for(var r in a)if(f.call(a,r)){for(var s,l=a[r].positions,c=0;s=l[c];c++)s.active?s.rendered||(i.append(s.element),s.rendered=!0):(l.splice(c--,1),s.rendered&&s.element.detach());0==l.length&&delete a[r]}}i.show()}},$.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=_("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=_("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},$.prototype.getTextInfo=function(t,e,i,o,n){var a,r,s,l;if(e=""+e,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(r=this._textCache[t])&&(r=this._textCache[t]={}),null==(s=r[a])&&(s=r[a]={}),null==(l=s[e])){var c=_("<div></div>").html(e).css({position:"absolute","max-width":n,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof i?c.css({font:a,color:i.color}):"string"==typeof i&&c.addClass(i),l=s[e]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach()}return l},$.prototype.addText=function(t,e,i,o,n,a,r,s,l){var c=this.getTextInfo(t,o,n,a,r),h=c.positions;"center"==s?e-=c.width/2:"right"==s&&(e-=c.width),"middle"==l?i-=c.height/2:"bottom"==l&&(i-=c.height);for(var p,u=0;p=h[u];u++)if(p.x==e&&p.y==i)return void(p.active=!0);p={active:!0,rendered:!1,element:h.length?c.element.clone():c.element,x:e,y:i},h.push(p),p.element.css({top:Math.round(i),left:Math.round(e),"text-align":s})},$.prototype.removeText=function(t,e,i,o,n,a){if(null==o){var r=this._textCache[t];if(null!=r)for(var s in r)if(f.call(r,s)){var l=r[s];for(var c in l)if(f.call(l,c))for(var h=l[c].positions,p=0;u=h[p];p++)u.active=!1}}else{var u;for(h=this.getTextInfo(t,o,n,a).positions,p=0;u=h[p];p++)u.x==e&&u.y==i&&(u.active=!1)}},_.plot=function(t,e,i){return new o(_(t),e,i,_.plot.plugins)},_.plot.version="0.8.3",_.plot.plugins=[],_.fn.plot=function(t,e){return this.each(function(){_.plot(this,t,e)})}}(jQuery),function(r,s,l){var c,h=[],p=r.resize=r.extend(r.resize,{}),u=!1,i="setTimeout",f="resize",d=f+"-special-event",g="pendingDelay",o="activeDelay",n="throttleWindow";function m(t){!0===u&&(u=t||1);for(var e=h.length-1;0<=e;e--){var i=r(h[e]);if(i[0]==s||i.is(":visible")){var o=i.width(),n=i.height(),a=i.data(d);!a||o===a.w&&n===a.h||(i.trigger(f,[a.w=o,a.h=n]),u=t||!0)}else(a=i.data(d)).w=0,a.h=0}null!==c&&(u&&(null==t||t-u<1e3)?c=s.requestAnimationFrame(m):(c=setTimeout(m,p[g]),u=!1))}p[g]=200,p[o]=20,p[n]=!0,r.event.special[f]={setup:function(){if(!p[n]&&this[i])return!1;var t=r(this);h.push(this),t.data(d,{w:t.width(),h:t.height()}),1===h.length&&(c=l,m())},teardown:function(){if(!p[n]&&this[i])return!1;for(var t=r(this),e=h.length-1;0<=e;e--)if(h[e]==this){h.splice(e,1);break}t.removeData(d),h.length||(u?cancelAnimationFrame(c):clearTimeout(c),c=null)},add:function(t){if(!p[n]&&this[i])return!1;var a;function e(t,e,i){var o=r(this),n=o.data(d)||{};n.w=e!==l?e:o.width(),n.h=i!==l?i:o.height(),a.apply(this,arguments)}if(r.isFunction(t))return a=t,e;a=t.handler,t.handler=e}},s.requestAnimationFrame||(s.requestAnimationFrame=s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||function(t,e){return s.setTimeout(function(){t((new Date).getTime())},p[o])}),s.cancelAnimationFrame||(s.cancelAnimationFrame=s.webkitCancelRequestAnimationFrame||s.mozCancelRequestAnimationFrame||s.oCancelRequestAnimationFrame||s.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),jQuery.plot.plugins.push({init:function(e){function i(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}e.hooks.bindEvents.push(function(t,e){t.getPlaceholder().resize(i)}),e.hooks.shutdown.push(function(t,e){t.getPlaceholder().unbind("resize",i)})},options:{},name:"resize",version:"1.0"}),jQuery.plot.plugins.push({init:function(t){var f,d,g,m,x=1,v=!1;function b(t,e){for(var i=new Array,o=0;o<t.length;o++)i[0]=t[o].data[0][e],i[1]=t[o].data[t[o].data.length-1][e];return i}function y(t,e){var i=t.bars.order,o=e.bars.order;return i<o?-1:o<i?1:0}function k(t,e,i){for(var o=0,n=e;n<=i;n++)o+=t[n].bars.barWidth+2*m;return o}t.hooks.processDatapoints.push(function(t,e,i){var o,n,a,r,s,l,c,h=null;if(null!=(l=e).bars&&l.bars.show&&null!=l.bars.order&&(e.bars.horizontal&&(v=!0),n=t,a=v?n.getPlaceholder().innerHeight():n.getPlaceholder().innerWidth(),r=b(n.getData(),v?1:0),s=r[1]-r[0],x=s/a,f=function(t){for(var e=new Array,i=0;i<t.length;i++)null!=t[i].bars.order&&t[i].bars.show&&e.push(t[i]);return e.sort(y)}(t.getData()),d=f.length,g=(o=e).bars.lineWidth?o.bars.lineWidth:2,m=g*x,2<=d)){var p=function(t){for(var e=0,i=0;i<f.length;++i)if(t==f[i]){e=i;break}return e+1}(e),u=(d%2!=(c=0)&&(c=f[Math.ceil(d/2)].bars.barWidth/2),c);h=function(t,e,i){for(var o=t.pointsize,n=t.points,a=0,r=v?1:0;r<n.length;r+=o)n[r]+=i,e.data[a][3]=n[r],a++;return n}(i,e,p<=Math.ceil(d/2)?-1*k(f,p-1,Math.floor(d/2)-1)-u:k(f,Math.ceil(d/2),p-2)+u+2*m),i.points=h}return h})},options:{series:{bars:{order:null}}},name:"orderBars",version:"0.2"}),jQuery.plot.plugins.push({init:function(t){t.hooks.processDatapoints.push(function(t,e,i){if(null!=e.stack&&!1!==e.stack){var o=function(t,e){for(var i=null,o=0;o<e.length&&t!=e[o];++o)e[o].stack==t.stack&&(i=e[o]);return i}(e,t.getData());if(o){for(var n,a,r,s,l,c,h,p,u=i.pointsize,f=i.points,d=o.datapoints.pointsize,g=o.datapoints.points,m=[],x=e.lines.show,v=e.bars.horizontal,b=2<u&&(v?i.format[2].x:i.format[2].y),y=x&&e.lines.steps,k=!0,w=v?1:0,M=v?0:1,T=0,C=0;!(T>=f.length);){if(h=m.length,null==f[T]){for(p=0;p<u;++p)m.push(f[T+p]);T+=u}else if(C>=g.length){if(!x)for(p=0;p<u;++p)m.push(f[T+p]);T+=u}else if(null==g[C]){for(p=0;p<u;++p)m.push(null);k=!0,C+=d}else{if(n=f[T+w],a=f[T+M],s=g[C+w],l=g[C+M],c=0,n==s){for(p=0;p<u;++p)m.push(f[T+p]);m[h+M]+=l,c=l,T+=u,C+=d}else if(s<n){if(x&&0<T&&null!=f[T-u]){for(r=a+(f[T-u+M]-a)*(s-n)/(f[T-u+w]-n),m.push(s),m.push(r+l),p=2;p<u;++p)m.push(f[T+p]);c=l}C+=d}else{if(k&&x){T+=u;continue}for(p=0;p<u;++p)m.push(f[T+p]);x&&0<C&&null!=g[C-d]&&(c=l+(g[C-d+M]-l)*(n-s)/(g[C-d+w]-s)),m[h+M]+=c,T+=u}k=!1,h!=m.length&&b&&(m[h+2]+=c)}if(y&&h!=m.length&&0<h&&null!=m[h]&&m[h]!=m[h-u]&&m[h+1]!=m[h-u+1]){for(p=0;p<u;++p)m[h+u+p]=m[h+p];m[h+1]=m[h-u+1]}}i.points=m}}})},options:{series:{stack:null}},name:"stack",version:"1.2"}),function(w){var t={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,e){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+e.color+";'>"+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};w.plot.plugins.push({init:function(h){var a=null,v=null,b=null,p=null,y=null,k=null,l=!1,u=null,f=[];function c(t){if(0<b.series.pie.innerRadius){t.save();var e=1<b.series.pie.innerRadius?b.series.pie.innerRadius:p*b.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=b.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=b.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function d(t,e){for(var i=!1,o=-1,n=t.length,a=n-1;++o<n;a=o)(t[o][1]<=e[1]&&e[1]<t[a][1]||t[a][1]<=e[1]&&e[1]<t[o][1])&&e[0]<(t[a][0]-t[o][0])*(e[1]-t[o][1])/(t[a][1]-t[o][1])+t[o][0]&&(i=!i);return i}function o(t){e("plothover",t)}function n(t){e("plotclick",t)}function e(t,e){var i,o,n,a=h.offset(),r=function(t,e){for(var i,o,n=h.getData(),a=h.getOptions(),r=1<a.series.pie.radius?a.series.pie.radius:p*a.series.pie.radius,s=0;s<n.length;++s){var l=n[s];if(l.pie.show){if(u.save(),u.beginPath(),u.moveTo(0,0),u.arc(0,0,r,l.startAngle,l.startAngle+l.angle/2,!1),u.arc(0,0,r,l.startAngle+l.angle/2,l.startAngle+l.angle,!1),u.closePath(),i=t-y,o=e-k,u.isPointInPath){if(u.isPointInPath(t-y,e-k))return u.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s}}else if(d([[0,0],[r*Math.cos(l.startAngle),r*Math.sin(l.startAngle)],[r*Math.cos(l.startAngle+l.angle/4),r*Math.sin(l.startAngle+l.angle/4)],[r*Math.cos(l.startAngle+l.angle/2),r*Math.sin(l.startAngle+l.angle/2)],[r*Math.cos(l.startAngle+l.angle/1.5),r*Math.sin(l.startAngle+l.angle/1.5)],[r*Math.cos(l.startAngle+l.angle),r*Math.sin(l.startAngle+l.angle)]],[i,o]))return u.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s};u.restore()}}return null}(parseInt(e.pageX-a.left),parseInt(e.pageY-a.top));if(b.grid.autoHighlight)for(var s=0;s<f.length;++s){var l=f[s];l.auto!=t||r&&l.series==r.series||g(l.series)}r&&(i=r.series,o=t,-1==(n=m(i))?(f.push({series:i,auto:o}),h.triggerRedrawOverlay()):o||(f[n].auto=!1));var c={pageX:e.pageX,pageY:e.pageY};v.trigger(t,[c,r])}function g(t){null==t&&(f=[],h.triggerRedrawOverlay());var e=m(t);-1!=e&&(f.splice(e,1),h.triggerRedrawOverlay())}function m(t){for(var e=0;e<f.length;++e)if(f[e].series==t)return e;return-1}h.hooks.processOptions.push(function(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),1<e.series.pie.tilt?e.series.pie.tilt=1:e.series.pie.tilt<0&&(e.series.pie.tilt=0))}),h.hooks.bindEvents.push(function(t,e){var i=t.getOptions();i.series.pie.show&&(i.grid.hoverable&&e.unbind("mousemove").mousemove(o),i.grid.clickable&&e.unbind("click").click(n))}),h.hooks.processDatapoints.push(function(t,e,i,o){var n;t.getOptions().series.pie.show&&(n=t,l||(l=!0,a=n.getCanvas(),v=w(a).parent(),b=n.getOptions(),n.setData(function(t){for(var e=0,i=0,o=0,n=b.series.pie.combine.color,a=[],r=0;r<t.length;++r){var s=t[r].data;w.isArray(s)&&1==s.length&&(s=s[0]),w.isArray(s)?!isNaN(parseFloat(s[1]))&&isFinite(s[1])?s[1]=+s[1]:s[1]=0:s=!isNaN(parseFloat(s))&&isFinite(s)?[1,+s]:[1,0],t[r].data=[s]}for(var r=0;r<t.length;++r)e+=t[r].data[0][1];for(var r=0;r<t.length;++r){var s=t[r].data[0][1];s/e<=b.series.pie.combine.threshold&&(i+=s,o++,n||(n=t[r].color))}for(var r=0;r<t.length;++r){var s=t[r].data[0][1];(o<2||s/e>b.series.pie.combine.threshold)&&a.push(w.extend(t[r],{data:[[1,s]],color:t[r].color,label:t[r].label,angle:s*Math.PI*2/e,percent:s/(e/100)}))}return 1<o&&a.push({data:[[1,i]],color:n,label:b.series.pie.combine.label,angle:i*Math.PI*2/e,percent:i/(e/100)}),a}(n.getData()))))}),h.hooks.drawOverlay.push(function(t,e){t.getOptions().series.pie.show&&function(t,e){var i=t.getOptions(),o=1<i.series.pie.radius?i.series.pie.radius:p*i.series.pie.radius;e.save(),e.translate(y,k),e.scale(1,i.series.pie.tilt);for(var n=0;n<f.length;++n)a(f[n].series);function a(t){t.angle<=0||isNaN(t.angle)||(e.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",e.beginPath(),1e-9<Math.abs(t.angle-2*Math.PI)&&e.moveTo(0,0),e.arc(0,0,o,t.startAngle,t.startAngle+t.angle/2,!1),e.arc(0,0,o,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),e.closePath(),e.fill())}c(e),e.restore()}(t,e)}),h.hooks.draw.push(function(t,e){t.getOptions().series.pie.show&&function(t,e){if(v){var m=t.getPlaceholder().width(),x=t.getPlaceholder().height(),i=v.children().filter(".legend").children().width()||0;u=e,l=!1,p=Math.min(m,x/b.series.pie.tilt)/2,k=x/2+b.series.pie.offset.top,y=m/2,"auto"==b.series.pie.offset.left?(b.legend.position.match("w")?y+=i/2:y-=i/2,y<p?y=p:m-p<y&&(y=m-p)):y+=b.series.pie.offset.left;for(var r=t.getData(),o=0;0<o&&(p*=.95),o+=1,n(),b.series.pie.tilt<=.8&&a(),!s()&&o<10;);10<=o&&(n(),v.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(r),t.insertLegend())}function n(){u.clearRect(0,0,m,x),v.children().filter(".pieLabel, .pieLabelBackground").remove()}function a(){var t=b.series.pie.shadow.left,e=b.series.pie.shadow.top,i=b.series.pie.shadow.alpha,o=1<b.series.pie.radius?b.series.pie.radius:p*b.series.pie.radius;if(!(m/2-t<=o||o*b.series.pie.tilt>=x/2-e||o<=10)){u.save(),u.translate(t,e),u.globalAlpha=i,u.fillStyle="#000",u.translate(y,k),u.scale(1,b.series.pie.tilt);for(var n=1;n<=10;n++)u.beginPath(),u.arc(0,0,o,0,2*Math.PI,!1),u.fill(),o-=n;u.restore()}}function s(){var o=Math.PI*b.series.pie.startAngle,n=1<b.series.pie.radius?b.series.pie.radius:p*b.series.pie.radius;u.save(),u.translate(y,k),u.scale(1,b.series.pie.tilt),u.save();for(var a=o,t=0;t<r.length;++t)r[t].startAngle=a,e(r[t].angle,r[t].color,!0);if(u.restore(),0<b.series.pie.stroke.width){u.save(),u.lineWidth=b.series.pie.stroke.width,a=o;for(var t=0;t<r.length;++t)e(r[t].angle,b.series.pie.stroke.color,!1);u.restore()}return c(u),u.restore(),!b.series.pie.label.show||function(){for(var t=o,g=1<b.series.pie.label.radius?b.series.pie.label.radius:p*b.series.pie.label.radius,e=0;e<r.length;++e){if(r[e].percent>=100*b.series.pie.label.threshold&&!i(r[e],t,e))return!1;t+=r[e].angle}return!0;function i(t,e,i){if(0==t.data[0][1])return!0;var o,n=b.legend.labelFormatter,a=b.series.pie.label.formatter;o=n?n(t.label,t):t.label,a&&(o=a(o,t));var r=(e+t.angle+e)/2,s=y+Math.round(Math.cos(r)*g),l=k+Math.round(Math.sin(r)*g)*b.series.pie.tilt,c="<span class='pieLabel' id='pieLabel"+i+"' style='position:absolute;top:"+l+"px;left:"+s+"px;'>"+o+"</span>";v.append(c);var h=v.children("#pieLabel"+i),p=l-h.height()/2,u=s-h.width()/2;if(h.css("top",p),h.css("left",u),0<0-p||0<0-u||x-(p+h.height())<0||m-(u+h.width())<0)return!1;if(0!=b.series.pie.label.background.opacity){var f=b.series.pie.label.background.color;null==f&&(f=t.color);var d="top:"+p+"px;left:"+u+"px;";w("<div class='pieLabelBackground' style='position:absolute;width:"+h.width()+"px;height:"+h.height()+"px;"+d+"background-color:"+f+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(h)}return!0}}();function e(t,e,i){t<=0||isNaN(t)||(i?u.fillStyle=e:(u.strokeStyle=e,u.lineJoin="round"),u.beginPath(),1e-9<Math.abs(t-2*Math.PI)&&u.moveTo(0,0),u.arc(0,0,n,a,a+t/2,!1),u.arc(0,0,n,a+t/2,a+t,!1),u.closePath(),a+=t,i?u.fill():u.stroke())}}}(t,e)})},options:t,name:"pie",version:"1.1"})}(jQuery),function(f){"use strict";function d(t,e,i,o,n,a,r){var s,l,c,h=Math.pow,p=Math.sqrt;return[i+(l=r*(s=p(h(i-t,2)+h(o-e,2)))/(s+p(h(n-i,2)+h(a-o,2))))*(t-n),o+l*(e-a),i-(c=r-l)*(t-n),o-c*(e-a)]}function g(t,e,i,o){(void 0===e||"bezier"!==e&&"quadratic"!==e)&&(e="quadratic"),e+="CurveTo",0==m.length?m.push([i[0],i[1],o.concat(i.slice(2)),e]):"quadraticCurveTo"==e&&2==i.length?(o=o.slice(0,2).concat(i),m.push([i[0],i[1],o,e])):m.push([i[2],i[3],o.concat(i.slice(2)),e])}function e(t,e,i){if(!0===i.splines.show){var o,n,a,r=[],s=i.splines.tension||.5,l=i.datapoints.points,c=i.datapoints.pointsize,h=t.getPlotOffset(),p=l.length,u=[];if(m=[],p/c<4)return void f.extend(i.lines,i.splines);for(o=0;o<p;o+=c)n=l[o],a=l[o+1],null==n||n<i.xaxis.min||n>i.xaxis.max||a<i.yaxis.min||a>i.yaxis.max||u.push(i.xaxis.p2c(n)+h.left,i.yaxis.p2c(a)+h.top);for(p=u.length,o=0;o<p-2;o+=2)r=r.concat(d.apply(this,u.slice(o,o+6).concat([s])));for(e.save(),e.strokeStyle=i.color,e.lineWidth=i.splines.lineWidth,g(0,"quadratic",u.slice(0,4),r.slice(0,2)),o=2;o<p-3;o+=2)g(0,"bezier",u.slice(o,o+4),r.slice(2*o-2,2*o+2));g(0,"quadratic",u.slice(p-2,p),[r[2*p-10],r[2*p-9],u[p-4],u[p-3]]),function(t,e,i,o,n){var a=f.color.parse(n);a.a="number"==typeof o?o:.3,a.normalize(),a=a.toString(),e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(var r=t.length,s=0;s<r;s++)e[t[s][3]].apply(e,t[s][2]);e.stroke(),e.lineWidth=0,e.lineTo(t[r-1][0],i),e.lineTo(t[0][0],i),e.closePath(),!1!==o&&(e.fillStyle=a,e.fill())}(m,e,t.height()+10,i.splines.fill,i.color),e.restore()}}var m=[];f.plot.plugins.push({init:function(t){t.hooks.drawSeries.push(e)},options:{series:{splines:{show:!1,lineWidth:2,tension:.5,fill:!1}}},name:"spline",version:"0.8.2"})}(jQuery),function(a){var t={tooltip:{show:!1,cssClass:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,lines:!1,onHover:function(t,e){},$compat:!1}};t.tooltipOpts=t.tooltip;var e=function(t){this.tipPosition={x:0,y:0},this.init(t)};e.prototype.init=function(u){function i(t){var e={};e.x=t.pageX,e.y=t.pageY,u.setTooltipPosition(e)}function o(t,h,e){var d=function(t,e,i,o){return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))};if(e)u.showTooltip(e,h);else if(n.plotOptions.series.lines.show&&!0===n.tooltipOptions.lines){var i=n.plotOptions.grid.mouseActiveRadius,p={distance:i+1};a.each(u.getData(),function(t,e){for(var i=0,o=-1,n=1;n<e.data.length;n++)e.data[n-1][0]<=h.x&&e.data[n][0]>=h.x&&(i=n-1,o=n);if(-1!==o){var a={x:e.data[i][0],y:e.data[i][1]},r={x:e.data[o][0],y:e.data[o][1]},s=function(l,c,h,p,u,f,t){if(!t||(t=function(t,e,i,o,n,a){if(void 0!==h)return{x:h,y:c};if(void 0!==p)return{x:l,y:p};var r,s=-1/((f-p)/(u-h));return{x:r=(u*(l*s-c+p)+h*(l*-s+c-f))/(s*(u-h)+p-f),y:s*r-s*l+c}}()).x>=Math.min(h,u)&&t.x<=Math.max(h,u)&&t.y>=Math.min(p,f)&&t.y<=Math.max(p,f)){var e=p-f,i=u-h,o=h*f-p*u;return Math.abs(e*l+i*c+o)/Math.sqrt(e*e+i*i)}var n=d(l,c,h,p),a=d(l,c,u,f);return a<n?a:n}(e.xaxis.p2c(h.x),e.yaxis.p2c(h.y),e.xaxis.p2c(a.x),e.yaxis.p2c(a.y),e.xaxis.p2c(r.x),e.yaxis.p2c(r.y),!1);if(s<p.distance){var l=d(a.x,a.y,h.x,h.y)<d(h.x,h.y,r.x,r.y)?i:o,c=(e.datapoints.pointsize,[h.x,a.y+(r.y-a.y)*((h.x-a.x)/(r.x-a.x))]);p={distance:s,item:{datapoint:c,dataIndex:l,series:e,seriesIndex:t}}}}else u.hideTooltip()}),p.distance<i+1?u.showTooltip(p.item,h):u.hideTooltip()}else u.hideTooltip()}var n=this,t=a.plot.plugins.length;if(this.plotPlugins=[],t)for(var e=0;e<t;e++)this.plotPlugins.push(a.plot.plugins[e].name);u.hooks.bindEvents.push(function(t,e){n.plotOptions=t.getOptions(),"boolean"==typeof n.plotOptions.tooltip&&(n.plotOptions.tooltipOpts.show=n.plotOptions.tooltip,n.plotOptions.tooltip=n.plotOptions.tooltipOpts,delete n.plotOptions.tooltipOpts),!1!==n.plotOptions.tooltip.show&&void 0!==n.plotOptions.tooltip.show&&(n.tooltipOptions=n.plotOptions.tooltip,n.tooltipOptions.$compat?(n.wfunc="width",n.hfunc="height"):(n.wfunc="innerWidth",n.hfunc="innerHeight"),n.getDomElement(),a(t.getPlaceholder()).bind("plothover",o),a(e).bind("mousemove",i))}),u.hooks.shutdown.push(function(t,e){a(t.getPlaceholder()).unbind("plothover",o),a(e).unbind("mousemove",i)}),u.setTooltipPosition=function(t){var e=n.getDomElement(),i=e.outerWidth()+n.tooltipOptions.shifts.x,o=e.outerHeight()+n.tooltipOptions.shifts.y;t.x-a(window).scrollLeft()>a(window)[n.wfunc]()-i&&(t.x-=i),t.y-a(window).scrollTop()>a(window)[n.hfunc]()-o&&(t.y-=o),n.tipPosition.x=t.x,n.tipPosition.y=t.y},u.showTooltip=function(t,e){var i=n.getDomElement(),o=n.stringFormat(n.tooltipOptions.content,t);""!==o&&(i.html(o),u.setTooltipPosition({x:e.pageX,y:e.pageY}),i.css({left:n.tipPosition.x+n.tooltipOptions.shifts.x,top:n.tipPosition.y+n.tooltipOptions.shifts.y}).show(),"function"==typeof n.tooltipOptions.onHover&&n.tooltipOptions.onHover(t,i))},u.hideTooltip=function(){n.getDomElement().hide().html("")}},e.prototype.getDomElement=function(){var t=a("."+this.tooltipOptions.cssClass);return 0===t.length&&((t=a("<div />").addClass(this.tooltipOptions.cssClass)).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),t},e.prototype.stringFormat=function(t,e){var i,o,n,a,r=/%s/,s=/%c/,l=/%lx/,c=/%ly/,h=/%x\.{0,1}(\d{0,})/,p=/%y\.{0,1}(\d{0,})/;if(n=void 0!==e.series.threshold?(i=e.datapoint[0],o=e.datapoint[1],e.datapoint[2]):void 0!==e.series.lines&&e.series.lines.steps?(i=e.series.datapoints.points[2*e.dataIndex],o=e.series.datapoints.points[2*e.dataIndex+1],""):(i=e.series.data[e.dataIndex][0],o=e.series.data[e.dataIndex][1],e.series.data[e.dataIndex][2]),null===e.series.label&&e.series.originSeries&&(e.series.label=e.series.originSeries.label),"function"==typeof t&&(t=t(e.series.label,i,o,e)),"boolean"==typeof t&&!t)return"";if(void 0!==e.series.percent?a=e.series.percent:void 0!==e.series.percents&&(a=e.series.percents[e.dataIndex]),"number"==typeof a&&(t=this.adjustValPrecision(/%p\.{0,1}(\d{0,})/,t,a)),t=void 0!==e.series.label?t.replace(r,e.series.label):t.replace(r,""),t=void 0!==e.series.color?t.replace(s,e.series.color):t.replace(s,""),t=this.hasAxisLabel("xaxis",e)?t.replace(l,e.series.xaxis.options.axisLabel):t.replace(l,""),t=this.hasAxisLabel("yaxis",e)?t.replace(c,e.series.yaxis.options.axisLabel):t.replace(c,""),this.isTimeMode("xaxis",e)&&this.isXDateFormat(e)&&(t=t.replace(h,this.timestampToDate(i,this.tooltipOptions.xDateFormat,e.series.xaxis.options))),this.isTimeMode("yaxis",e)&&this.isYDateFormat(e)&&(t=t.replace(p,this.timestampToDate(o,this.tooltipOptions.yDateFormat,e.series.yaxis.options))),"number"==typeof i&&(t=this.adjustValPrecision(h,t,i)),"number"==typeof o&&(t=this.adjustValPrecision(p,t,o)),void 0!==e.series.xaxis.ticks){var u;u=this.hasRotatedXAxisTicks(e)?"rotatedTicks":"ticks";var f=e.dataIndex+e.seriesIndex;for(var d in e.series.xaxis[u])if(e.series.xaxis[u].hasOwnProperty(f)&&!this.isTimeMode("xaxis",e)){(this.isCategoriesMode("xaxis",e)?e.series.xaxis[u][f].label:e.series.xaxis[u][f].v)===i&&(t=t.replace(h,e.series.xaxis[u][f].label))}}if(void 0!==e.series.yaxis.ticks)for(var d in e.series.yaxis.ticks)if(e.series.yaxis.ticks.hasOwnProperty(d)){(this.isCategoriesMode("yaxis",e)?e.series.yaxis.ticks[d].label:e.series.yaxis.ticks[d].v)===o&&(t=t.replace(p,e.series.yaxis.ticks[d].label))}return void 0!==e.series.xaxis.tickFormatter&&(t=t.replace("%x",e.series.xaxis.tickFormatter(i,e.series.xaxis).replace(/\$/g,"$$"))),void 0!==e.series.yaxis.tickFormatter&&(t=t.replace("%y",e.series.yaxis.tickFormatter(o,e.series.yaxis).replace(/\$/g,"$$"))),n&&(t=t.replace("%ct",n)),t},e.prototype.isTimeMode=function(t,e){return void 0!==e.series[t].options.mode&&"time"===e.series[t].options.mode},e.prototype.isXDateFormat=function(t){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},e.prototype.isYDateFormat=function(t){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},e.prototype.isCategoriesMode=function(t,e){return void 0!==e.series[t].options.mode&&"categories"===e.series[t].options.mode},e.prototype.timestampToDate=function(t,e,i){var o=a.plot.dateGenerator(t,i);return a.plot.formatDate(o,e,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},e.prototype.adjustValPrecision=function(t,e,i){var o;return null!==e.match(t)&&""!==RegExp.$1&&(o=RegExp.$1,i=i.toFixed(o),e=e.replace(t,i)),e},e.prototype.hasAxisLabel=function(t,e){return-1!==a.inArray(this.plotPlugins,"axisLabels")&&void 0!==e.series[t].options.axisLabel&&0<e.series[t].options.axisLabel.length},e.prototype.hasRotatedXAxisTicks=function(t){return-1!==a.inArray(this.plotPlugins,"tickRotor")&&void 0!==t.series.xaxis.rotatedTicks};a.plot.plugins.push({init:function(t){new e(t)},options:t,name:"tooltip",version:"0.8.5"})}(jQuery);