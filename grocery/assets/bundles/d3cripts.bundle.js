!function(){function n(t){for(var n=-1,e=t.length,r=[];++n<e;)r.push(t[n]);return r}function b(){}function a(t){return t}function t(){return this}function r(){return!0}function k(t){return"function"==typeof t?t:function(){return t}}function o(n,e,r){return function(){var t=r.apply(e,arguments);return arguments.length?n:t}}function c(t){return null!=t&&!isNaN(t)}function u(t){return t.length}function l(t){return null==t}function f(t){return t.trim().replace(/\s+/g," ")}function s(){}function h(i){function t(){for(var t,n=o,e=-1,r=n.length;++e<r;)(t=n[e].on)&&t.apply(this,arguments);return i}var o=[],u=new b;return t.on=function(t,n){var e,r=u.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,e=o.indexOf(r)).concat(o.slice(e+1)),u.remove(t)),n&&o.push(u.set(t,{on:n})),i)},t}function i(t,n){return n-(t?1+Math.floor(Math.log(t+Math.pow(10,1+Math.floor(Math.log(t)/Math.LN10)-n))/Math.LN10):1)}function e(t){return t+""}function g(t){for(var n=t.lastIndexOf("."),e=0<=n?t.substring(n):(n=t.length,""),r=[];0<n;)r.push(t.substring(n-=3,n+3));return r.reverse().join(",")+e}function d(n){return function(t){return 1-n(1-t)}}function p(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function v(t){return t}function m(n){return function(t){return Math.pow(t,n)}}function y(t){return 1-Math.cos(t*Math.PI/2)}function x(t){return Math.pow(2,10*(t-1))}function M(t){return 1-Math.sqrt(1-t*t)}function _(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function S(){d3.event.stopPropagation(),d3.event.preventDefault()}function w(){for(var t,n=d3.event;t=n.sourceEvent;)n=t;return n}function C(i){for(var o=new s,t=0,n=arguments.length;++t<n;)o[arguments[t]]=h(o);return o.of=function(e,r){return function(t){try{var n=t.sourceEvent=d3.event;t.target=i,d3.event=t,o[t.type].apply(e,r)}finally{d3.event=n}}},o}function N(t){var n,e,r,i=[t.a,t.b],o=[t.c,t.d],u=T(i),a=A(i,o),c=T(((n=o)[0]+=(r=-a)*(e=i)[0],n[1]+=r*e[1],n))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,u*=-1,a*=-1),this.rotate=(u?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Be,this.translate=[t.e,t.f],this.scale=[u,c],this.skew=c?Math.atan2(a,c)*Be:0}function A(t,n){return t[0]*n[0]+t[1]*n[1]}function T(t){var n=Math.sqrt(A(t,t));return n&&(t[0]/=n,t[1]/=n),n}function q(t){return"transform"==t?d3.interpolateTransform:d3.interpolate}function z(n,e){return e=e-(n=+n)?1/(e-n):0,function(t){return(t-n)*e}}function E(n,e){return e=e-(n=+n)?1/(e-n):0,function(t){return Math.max(0,Math.min(1,(t-n)*e))}}function D(){}function P(t,n,e){return new L(t,n,e)}function L(t,n,e){this.r=t,this.g=n,this.b=e}function F(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function I(t,n,e){var r,i,o,u=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(j(i[0]),j(i[1]),j(i[2]))}return(o=Ke.get(t))?n(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(u=t.charAt(1),u+=u,a=t.charAt(2),a+=a,c=t.charAt(3),c+=c):7===t.length&&(u=t.substring(1,3),a=t.substring(3,5),c=t.substring(5,7)),u=parseInt(u,16),a=parseInt(a,16),c=parseInt(c,16)),n(u,a,c))}function H(t,n,e){var r,i,o=Math.min(t/=255,n/=255,e/=255),u=Math.max(t,n,e),a=u-o,c=(u+o)/2;return a?(i=c<.5?a/(u+o):a/(2-u-o),r=t==u?(n-e)/a+(n<e?6:0):n==u?(e-t)/a+2:(t-n)/a+4,r*=60):i=r=0,Y(r,i,c)}function O(t,n,e){var r=W((.4124564*(t=R(t))+.3575761*(n=R(n))+.1804375*(e=R(e)))/tr),i=W((.2126729*t+.7151522*n+.072175*e)/nr);return $(116*i-16,500*(r-i),200*(i-W((.0193339*t+.119192*n+.9503041*e)/er)))}function R(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function j(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function Y(t,n,e){return new U(t,n,e)}function U(t,n,e){this.h=t,this.s=n,this.l=e}function V(t,n,e){function r(t){return Math.round(255*(360<(n=t)?n-=360:n<0&&(n+=360),n<60?i+(o-i)*n/60:n<180?o:n<240?i+(o-i)*(240-n)/60:i));var n}var i,o;return(t%=360)<0&&(t+=360),n=n<0?0:1<n?1:n,i=2*(e=e<0?0:1<e?1:e)-(o=e<=.5?e*(1+n):e+n-e*n),P(r(t+120),r(t),r(t-120))}function Z(t,n,e){return new B(t,n,e)}function B(t,n,e){this.h=t,this.c=n,this.l=e}function X(t,n,e){return $(e,Math.cos(t*=Math.PI/180)*n,Math.sin(t)*n)}function $(t,n,e){return new G(t,n,e)}function G(t,n,e){this.l=t,this.a=n,this.b=e}function K(t,n,e){var r=(t+16)/116,i=r+n/500,o=r-e/200;return P(tt(3.2404542*(i=Q(i)*tr)-1.5371385*(r=Q(r)*nr)-.4985314*(o=Q(o)*er)),tt(-.969266*i+1.8760108*r+.041556*o),tt(.0556434*i-.2040259*r+1.0572252*o))}function J(t,n,e){return Z(Math.atan2(e,n)/Math.PI*180,Math.sqrt(n*n+e*e),t)}function Q(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function W(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function tt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function nt(t){return Ee(t,lr),t}function et(t){return function(){return ir(t,this)}}function rt(t){return function(){return or(t,this)}}function it(n,e){return n=d3.ns.qualify(n),null==e?n.local?function(){this.removeAttributeNS(n.space,n.local)}:function(){this.removeAttribute(n)}:"function"==typeof e?n.local?function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}:function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}:n.local?function(){this.setAttributeNS(n.space,n.local,e)}:function(){this.setAttribute(n,e)}}function ot(t){return new RegExp("(?:^|\\s+)"+d3.requote(t)+"(?:\\s+|$)","g")}function ut(e,r){var i=(e=e.trim().split(/\s+/).map(at)).length;return"function"==typeof r?function(){for(var t=-1,n=r.apply(this,arguments);++t<i;)e[t](this,n)}:function(){for(var t=-1;++t<i;)e[t](this,r)}}function at(o){var u=ot(o);return function(t,n){if(e=t.classList)return n?e.add(o):e.remove(o);var e=t.className,r=null!=e.baseVal,i=r?e.baseVal:e;n?(u.lastIndex=0,u.test(i)||(i=f(i+" "+o),r?e.baseVal=i:t.className=i)):i&&(i=f(i.replace(u," ")),r?e.baseVal=i:t.className=i)}}function ct(n,e,r){return null==e?function(){this.style.removeProperty(n)}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}:function(){this.style.setProperty(n,e,r)}}function lt(n,e){return null==e?function(){delete this[n]}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}:function(){this[n]=e}}function ft(t){return{__data__:t}}function st(t){return function(){return cr(this,t)}}function ht(n,i,o){function u(){var t=this[a];t&&(this.removeEventListener(n,t,t.$),delete this[a])}var a="__on"+n,t=n.indexOf(".");return 0<t&&(n=n.substring(0,t)),i?function(){function t(t){var n=d3.event;d3.event=t,r[0]=e.__data__;try{i.apply(e,r)}finally{d3.event=n}}var e=this,r=arguments;u.call(this),this.addEventListener(n,this[a]=t,t.$=o),t._=i}:u}function dt(t,n){for(var e=0,r=t.length;e<r;e++)for(var i,o=t[e],u=0,a=o.length;u<a;u++)(i=o[u])&&n(i,u,e);return t}function gt(t){return Ee(t,sr),t}function pt(e,h,d){Ee(e,hr);var g=new b,p=d3.dispatch("start","end"),v=yr;return e.id=h,e.time=d,e.tween=function(t,n){return arguments.length<2?g.get(t):(null==n?g.remove(t):g.set(t,n),e)},e.ease=function(t){return arguments.length?(v="function"==typeof t?t:d3.ease.apply(d3,arguments),e):v},e.each=function(t,n){return arguments.length<2?function(r){var t=gr,n=yr,e=vr,i=mr;return gr=this.id,yr=this.ease(),dt(this,function(t,n,e){vr=t.delay,mr=t.duration,r.call(t=t.node,t.__data__,n,e)}),gr=t,yr=n,vr=e,mr=i,this}.call(e,t):(p.on(t,n),e)},d3.timer(function(r){return dt(e,function(i,o,t){function n(t){return f.active>h?u():(f.active=h,g.forEach(function(t,n){(n=n.call(i,s,o))&&a.push(n)}),p.start.call(i,s,o),e(t)||d3.timer(e,0,d),1)}function e(t){if(f.active!==h)return u();for(var n=(t-c)/l,e=v(n),r=a.length;0<r;)a[--r].call(i,e);return 1<=n?(u(),gr=h,p.end.call(i,s,o),gr=0,1):void 0}function u(){return--f.count||delete i.__transition__,1}var a=[],c=i.delay,l=i.duration,f=(i=i.node).__transition__||(i.__transition__={active:0,count:0}),s=i.__data__;++f.count,c<=r?n(r):d3.timer(n,c,d)})},0,d),e}function vt(t,n,e){return""!=e&&Mr}function mt(t,n){return d3.tween(t,q(n))}function yt(){for(var t,n=Date.now(),e=kr;e;)(t=n-e.then)>=e.delay&&(e.flush=e.callback(t)),e=e.next;var r=xt()-n;24<r?(isFinite(r)&&(clearTimeout(br),br=setTimeout(yt,r)),xr=0):(xr=1,Nr(yt))}function xt(){for(var t=null,n=kr,e=1/0;n;)n=n.flush?(delete wr[n.callback.id],t?t.next=n.next:kr=n.next):(e=Math.min(e,n.then+n.delay),(t=n).next);return e}function bt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();if(Ar<0&&(window.scrollX||window.scrollY)){var i=(e=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0))[0][0].getScreenCTM();Ar=!(i.f||i.e),e.remove()}return Ar?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}function Mt(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function _t(t){return t.rangeExtent?t.rangeExtent():Mt(t.range())}function wt(t,n){var e,r=0,i=t.length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),(n=n(u-o))&&(t[r]=n.floor(o),t[i]=n.ceil(u)),t}function kt(){return Math}function Nt(t,n){return d3.rebind(t,n,"range","rangeRound","interpolate","clamp")}function At(n){return(n=Math.pow(10,Math.round(Math.log(n)/Math.LN10)-1))&&{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}}function St(t,n){var e=Mt(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),o=n/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Ct(t,n){return d3.range.apply(d3,St(t,n))}function Tt(t,n){return d3.format(",."+Math.max(0,-Math.floor(Math.log(St(t,n)[2])/Math.LN10+.01))+"f")}function qt(t,n,e,r){var i=e(t[0],t[1]),o=r(n[0],n[1]);return function(t){return o(i(t))}}function zt(e,t,n,r){var i=[],o=[],u=0,a=Math.min(e.length,t.length)-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<=a;)i.push(n(e[u-1],e[u])),o.push(r(t[u-1],t[u]));return function(t){var n=d3.bisect(e,t,1,a)-1;return o[n](i[n](t))}}function Et(t){return Math.log(t<0?0:t)/Math.LN10}function Dt(t){return-Math.log(0<t?0:-t)/Math.LN10}function Pt(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Lt(t){return t.innerRadius}function Ft(t){return t.outerRadius}function It(t){return t.startAngle}function Ht(t){return t.endAngle}function Ot(l){function n(t){function n(){r.push("M",d(l(i),g))}for(var e,r=[],i=[],o=-1,u=t.length,a=k(f),c=k(s);++o<u;)h.call(this,e=t[o],o)?i.push([+a.call(this,e,o),+c.call(this,e,o)]):i.length&&(n(),i=[]);return i.length&&n(),r.length?r.join(""):null}var f=Rt,s=jt,h=r,d=Yt,e=d.key,g=.7;return n.x=function(t){return arguments.length?(f=t,n):f},n.y=function(t){return arguments.length?(s=t,n):s},n.defined=function(t){return arguments.length?(h=t,n):h},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?d=t:(d=Pr.get(t)||Yt).key,n):e},n.tension=function(t){return arguments.length?(g=t,n):g},n}function Rt(t){return t[0]}function jt(t){return t[1]}function Yt(t){return t.join("L")}function Ut(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function Vt(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function Zt(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return Yt(t);var e=t.length!=n.length,r="",i=t[0],o=t[1],u=n[0],a=u,c=1;if(e&&(r+="Q"+(o[0]-2*u[0]/3)+","+(o[1]-2*u[1]/3)+","+o[0]+","+o[1],i=t[1],c=2),1<n.length){a=n[1],o=t[c],c++,r+="C"+(i[0]+u[0])+","+(i[1]+u[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var l=2;l<n.length;l++,c++)o=t[c],a=n[l],r+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(e){var f=t[c];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function Bt(t,n){for(var e,r=[],i=(1-n)/2,o=t[0],u=t[1],a=1,c=t.length;++a<c;)e=o,o=u,u=t[a],r.push([i*(u[0]-e[0]),i*(u[1]-e[1])]);return r}function Xt(t){if(t.length<3)return Yt(t);var n=1,e=t.length,r=t[0],i=r[0],o=r[1],u=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],c=[i,",",o];for(Gt(c,u,a);++n<e;)r=t[n],u.shift(),u.push(r[0]),a.shift(),a.push(r[1]),Gt(c,u,a);for(n=-1;++n<2;)u.shift(),u.push(r[0]),a.shift(),a.push(r[1]),Gt(c,u,a);return c.join("")}function $t(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Gt(t,n,e){t.push("C",$t(Lr,n),",",$t(Lr,e),",",$t(Fr,n),",",$t(Fr,e),",",$t(Ir,n),",",$t(Ir,e))}function Kt(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Jt(t){for(var n,e,r,i,o=[],u=function(t){for(var n=0,e=t.length-1,r=[],i=t[0],o=t[1],u=r[0]=Kt(i,o);++n<e;)r[n]=(u+(u=Kt(i=o,o=t[n+1])))/2;return r[n]=u,r}(t),a=-1,c=t.length-1;++a<c;)n=Kt(t[a],t[a+1]),Math.abs(n)<1e-6?u[a]=u[a+1]=0:9<(i=(e=u[a]/n)*e+(r=u[a+1]/n)*r)&&(i=3*n/Math.sqrt(i),u[a]=i*e,u[a+1]=i*r);for(a=-1;++a<=c;)i=(t[Math.min(c,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+u[a]*u[a])),o.push([i||0,u[a]*i||0]);return o}function Qt(t){for(var n,e,r,i=-1,o=t.length;++i<o;)e=(n=t[i])[0],r=n[1]+Er,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Wt(g){function n(t){function n(){o.push("M",b(g(a),w),_,M(g(u.reverse()),w),"Z")}for(var e,r,i,o=[],u=[],a=[],c=-1,l=t.length,f=k(p),s=k(m),h=p===v?function(){return r}:k(v),d=m===y?function(){return i}:k(y);++c<l;)x.call(this,e=t[c],c)?(u.push([r=+f.call(this,e,c),i=+s.call(this,e,c)]),a.push([+h.call(this,e,c),+d.call(this,e,c)])):u.length&&(n(),u=[],a=[]);return u.length&&n(),o.length?o.join(""):null}var p=Rt,v=Rt,m=0,y=jt,x=r,b=Yt,e=b.key,M=b,_="L",w=.7;return n.x=function(t){return arguments.length?(p=v=t,n):v},n.x0=function(t){return arguments.length?(p=t,n):p},n.x1=function(t){return arguments.length?(v=t,n):v},n.y=function(t){return arguments.length?(m=y=t,n):y},n.y0=function(t){return arguments.length?(m=t,n):m},n.y1=function(t){return arguments.length?(y=t,n):y},n.defined=function(t){return arguments.length?(x=t,n):x},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?b=t:(b=Pr.get(t)||Yt).key,M=b.reverse||b,_=b.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(w=t,n):w},n}function tn(t){return t.source}function nn(t){return t.target}function en(t){return t.radius}function rn(t){return[t.x,t.y]}function on(){return 64}function un(){return"circle"}function an(t){var n=Math.sqrt(t/Math.PI);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function cn(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function ln(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function fn(t){for(var n=t.source,e=t.target,r=function(t,n){if(t===n)return t;var e=sn(t),r=sn(n),i=e.pop(),o=r.pop(),u=null;for(;i===o;)u=i,i=e.pop(),o=r.pop();return u}(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function sn(t){for(var n=[],e=t.parent;null!=e;)n.push(t),e=(t=e).parent;return n.push(t),n}function hn(t){t.fixed|=2}function dn(t){t.fixed&=1}function gn(t){t.fixed|=4}function pn(t){t.fixed&=3}function vn(t){return 20}function mn(t){return 1}function yn(t){return t.x}function xn(t){return t.y}function bn(t,n,e){t.y0=n,t.y=e}function Mn(t){return d3.range(t.length)}function _n(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function wn(t){for(var n,e=1,r=0,i=t[0][1],o=t.length;e<o;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function kn(t){return t.reduce(Nn,0)}function Nn(t,n){return t+n[1]}function An(t,n){return Sn(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function Sn(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,o=[];++e<=n;)o[e]=i*e+r;return o}function Cn(t){return[d3.min(t),d3.max(t)]}function Tn(n,t){return d3.rebind(n,t,"sort","children","value"),n.links=Dn,n.nodes=function(t){return $r=!0,(n.nodes=n)(t)},n}function qn(t){return t.children}function zn(t){return t.value}function En(t,n){return n.value-t.value}function Dn(t){return d3.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function Pn(t,n){return t.value-n.value}function Ln(t,n){var e=t._pack_next;(t._pack_next=n)._pack_prev=t,(n._pack_next=e)._pack_prev=n}function Fn(t,n){(t._pack_next=n)._pack_prev=t}function In(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.001<i*i-e*e-r*r}function Hn(t){function n(t){f=Math.min(t.x-t.r,f),s=Math.max(t.x+t.r,s),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((e=t.children)&&(l=e.length)){var e,r,i,o,u,a,c,l,f=1/0,s=-1/0,h=1/0,d=-1/0;if(e.forEach(On),(r=e[0]).x=-r.r,r.y=0,n(r),1<l&&((i=e[1]).x=i.r,i.y=0,n(i),2<l))for(jn(r,i,o=e[2]),n(o),Ln(r,o),Ln(r._pack_prev=o,i),i=r._pack_next,u=3;u<l;u++){jn(r,i,o=e[u]);var g=0,p=1,v=1;for(a=i._pack_next;a!==i;a=a._pack_next,p++)if(In(a,o)){g=1;break}if(1==g)for(c=r._pack_prev;c!==a._pack_prev&&!In(c,o);c=c._pack_prev,v++);g?(p<v||p==v&&i.r<r.r?Fn(r,i=a):Fn(r=c,i),u--):(Ln(r,o),n(i=o))}var m=(f+s)/2,y=(h+d)/2,x=0;for(u=0;u<l;u++)(o=e[u]).x-=m,o.y-=y,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,e.forEach(Rn)}}function On(t){t._pack_next=t._pack_prev=t}function Rn(t){delete t._pack_next,delete t._pack_prev}function jn(t,n,e){var r=t.r+e.r,i=n.x-t.x,o=n.y-t.y;if(r&&(i||o)){var u=n.r+e.r,a=i*i+o*o,c=.5+((r*=r)-(u*=u))/(2*a),l=Math.sqrt(Math.max(0,2*u*(r+a)-(r-=a)*r-u*u))/(2*a);e.x=t.x+c*i+l*o,e.y=t.y+c*o-l*i}else e.x=t.x+r,e.y=t.y}function Yn(t,n){return t.parent==n.parent?1:2}function Un(t){var n=t.children;return n&&n.length?n[0]:t._tree.thread}function Vn(t){var n,e=t.children;return e&&(n=e.length)?e[n-1]:t._tree.thread}function Zn(t,n){var e=t.children;if(e&&(i=e.length))for(var r,i,o=-1;++o<i;)0<n(r=Zn(e[o],n),t)&&(t=r);return t}function Bn(t,n){return t.x-n.x}function Xn(t,n){return n.x-t.x}function $n(t,n){return t.depth-n.depth}function Gn(t,c){!function t(n,e){var r=n.children;if(r&&(o=r.length))for(var i,o,u=null,a=-1;++a<o;)t(i=r[a],u),u=i;c(n,e)}(t,null)}function Kn(t,n,e){t=t._tree;var r=e/((n=n._tree).number-t.number);t.change+=r,n.change-=r,n.shift+=e,n.prelim+=e,n.mod+=e}function Jn(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Qn(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],o=t.dy-n[0]-n[2];return i<0&&(e+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:e,y:r,dx:i,dy:o}}function Wn(n,e){function r(t,n){d3.text(t,e,function(t){n(t&&r.parse(t))})}function i(t){return t.map(o).join(n)}function o(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var f=new RegExp("\r\n|["+n+"\r\n]","g"),u=new RegExp('["'+n+"\n]"),s=n.charCodeAt(0);return r.parse=function(t){var o;return r.parseRows(t,function(t,n){if(n){for(var e={},r=-1,i=o.length;++r<i;)e[o[r]]=t[r];return e}return o=t,null})},r.parseRows=function(i,t){function n(){if(f.lastIndex>=i.length)return a;if(o)return o=!1,u;var t=f.lastIndex;if(34===i.charCodeAt(t)){for(var n=t;n++<i.length;)if(34===i.charCodeAt(n)){if(34!==i.charCodeAt(n+1))break;n++}f.lastIndex=n+2;var e=i.charCodeAt(n+1);return 13===e?(o=!0,10===i.charCodeAt(n+2)&&f.lastIndex++):10===e&&(o=!0),i.substring(t+1,n).replace(/""/g,'"')}var r=f.exec(i);return r?(o=r[0].charCodeAt(0)!==s,i.substring(t,r.index)):(f.lastIndex=i.length,i.substring(t))}var e,o,u={},a={},r=[],c=0;for(f.lastIndex=0;(e=n())!==a;){for(var l=[];e!==u&&e!==a;)l.push(e),e=n();t&&!(l=t(l,c++))||r.push(l)}return r},r.format=function(t){return t.map(i).join("\n")},r}function te(n,e){return function(t){return t&&n.hasOwnProperty(t.type)?n[t.type](t):e}}function ne(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ee(t,n){Kr.hasOwnProperty(t.type)&&Kr[t.type](t,n)}function re(t,n){for(var e=t.coordinates,r=0,i=e.length;r<i;r++)n.apply(null,e[r])}function ie(t){return t.source}function oe(t){return t.target}function ue(){function r(t){var n=Math.sin(t*=v)*m,e=Math.sin(v-t)*m,r=e*c+n*g,i=e*l+n*p,o=e*a+n*d;return[Math.atan2(i,r)/Gr,Math.atan2(o,Math.sqrt(r*r+i*i))/Gr]}var i,o,u,a,c,l,f,s,h,d,g,p,v,m;return r.distance=function(){return null==v&&(m=1/Math.sin(v=Math.acos(Math.max(-1,Math.min(1,a*d+u*h*Math.cos(f-i)))))),v},r.source=function(t){var n=Math.cos(i=t[0]*Gr),e=Math.sin(i);return u=Math.cos(o=t[1]*Gr),a=Math.sin(o),c=u*n,l=u*e,v=null,r},r.target=function(t){var n=Math.cos(f=t[0]*Gr),e=Math.sin(f);return h=Math.cos(s=t[1]*Gr),d=Math.sin(s),g=h*n,p=h*e,v=null,r},r}function ae(t,n){var e=ue().source(t).target(n);return e.distance(),e}function ce(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function le(t,n,e,r){var i=t[0],o=n[0],u=e[0],a=r[0],c=t[1],l=n[1],f=e[1],s=o-i,h=a-u,d=l-c,g=r[1]-f,p=(h*(c-f)-g*(i-u))/(g*s-h*d);return[i+p*s,c+p*d]}function fe(t,r){var n={list:t.map(function(t,n){return{index:n,x:t[0],y:t[1]}}).sort(function(t,n){return t.y<n.y?-1:t.y>n.y?1:t.x<n.x?-1:t.x>n.x?1:0}),bottomSite:null},e={list:[],leftEnd:null,rightEnd:null,init:function(){e.leftEnd=e.createHalfEdge(null,"l"),e.rightEnd=e.createHalfEdge(null,"l"),e.leftEnd.r=e.rightEnd,e.rightEnd.l=e.leftEnd,e.list.unshift(e.leftEnd,e.rightEnd)},createHalfEdge:function(t,n){return{edge:t,side:n,vertex:null,l:null,r:null}},insert:function(t,n){n.l=t,n.r=t.r,t.r.l=n,t.r=n},leftBound:function(t){for(var n=e.leftEnd;(n=n.r)!=e.rightEnd&&i.rightOf(n,t););return n=n.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?n.bottomSite:t.edge.region[Wr[t.side]]}},i={bisect:function(t,n){var e={region:{l:t,r:n},ep:{l:null,r:null}},r=n.x-t.x,i=n.y-t.y,o=0<r?r:-r,u=0<i?i:-i;return e.c=t.x*r+t.y*i+.5*(r*r+i*i),u<o?(e.a=1,e.b=i/r,e.c/=r):(e.b=1,e.a=r/i,e.c/=i),e},intersect:function(t,n){var e=t.edge,r=n.edge;if(!e||!r||e.region.r==r.region.r)return null;var i=e.a*r.b-e.b*r.a;if(Math.abs(i)<1e-10)return null;var o,u=(e.c*r.b-r.c*e.b)/i,a=(r.c*e.a-e.c*r.a)/i,c=e.region.r,l=r.region.r,f=u>=(c.y<l.y||c.y==l.y&&c.x<l.x?(o=t,e):(o=n,r)).region.r.x;return f&&"l"===o.side||!f&&"r"===o.side?null:{x:u,y:a}},rightOf:function(t,n){var e=t.edge,r=e.region.r,i=n.x>r.x;if(i&&"l"===t.side)return 1;if(!i&&"r"===t.side)return 0;if(1===e.a){var o=n.y-r.y,u=n.x-r.x,a=0,c=0;if(!i&&e.b<0||i&&0<=e.b?c=a=o>=e.b*u:(c=n.x+n.y*e.b>e.c,e.b<0&&(c=!c),c||(a=1)),!a){var l=r.x-e.region.l.x;c=e.b*(u*u-o*o)<l*o*(1+2*u/l+e.b*e.b),e.b<0&&(c=!c)}}else{var f=e.c-e.a*n.x,s=n.y-f,h=n.x-r.x,d=f-r.y;c=h*h+d*d<s*s}return"l"===t.side?c:!c},endPoint:function(t,n,e){t.ep[n]=e,t.ep[Wr[n]]&&r(t)},distance:function(t,n){var e=t.x-n.x,r=t.y-n.y;return Math.sqrt(e*e+r*r)}},a={list:[],insert:function(t,n,e){t.vertex=n,t.ystar=n.y+e;for(var r=0,i=a.list,o=i.length;r<o;r++){var u=i[r];if(!(t.ystar>u.ystar||t.ystar==u.ystar&&n.x>u.vertex.x))break}i.splice(r,0,t)},del:function(t){for(var n=0,e=a.list,r=e.length;n<r&&e[n]!=t;++n);e.splice(n,1)},empty:function(){return 0===a.list.length},nextEvent:function(t){for(var n=0,e=a.list,r=e.length;n<r;++n)if(e[n]==t)return e[n+1];return null},min:function(){var t=a.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return a.list.shift()}};e.init(),n.bottomSite=n.list.shift();for(var o,u,c,l,f,s,h,d,g,p,v,m,y,x=n.list.shift();;)if(a.empty()||(o=a.min()),x&&(a.empty()||x.y<o.y||x.y==o.y&&x.x<o.x))u=e.leftBound(x),c=e.right(u),h=e.rightRegion(u),m=i.bisect(h,x),s=e.createHalfEdge(m,"l"),e.insert(u,s),(p=i.intersect(u,s))&&(a.del(u),a.insert(u,p,i.distance(p,x))),u=s,s=e.createHalfEdge(m,"r"),e.insert(u,s),(p=i.intersect(s,c))&&a.insert(s,p,i.distance(p,x)),x=n.list.shift();else{if(a.empty())break;u=a.extractMin(),l=e.left(u),c=e.right(u),f=e.right(c),h=e.leftRegion(u),d=e.rightRegion(c),v=u.vertex,i.endPoint(u.edge,u.side,v),i.endPoint(c.edge,c.side,v),e.del(u),a.del(c),e.del(c),y="l",h.y>d.y&&(g=h,h=d,d=g,y="r"),m=i.bisect(h,d),s=e.createHalfEdge(m,y),e.insert(l,s),i.endPoint(m,Wr[y],v),(p=i.intersect(l,s))&&(a.del(l),a.insert(l,p,i.distance(p,h))),(p=i.intersect(s,f))&&a.insert(s,p,i.distance(p,h))}for(u=e.right(e.leftEnd);u!=e.rightEnd;u=e.right(u))r(u.edge)}function se(t){return{x:t[0],y:t[1]}}function he(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function de(t){return t.substring(0,3)}function ge(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(c<=r)return-1;if(37==(i=n.charCodeAt(u++))){if(!(o=yi[n.charAt(u++)])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function pe(t){return new RegExp("^(?:"+t.map(d3.requote).join("|")+")","i")}function ve(t){for(var n=new b,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function me(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+2));return r?(t.d=+r[0],e+=r[0].length):-1}function ye(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+2));return r?(t.H=+r[0],e+=r[0].length):-1}function xe(t){return t.toISOString()}function be(r,o,u){function t(t){var n=r(t),e=i(n,1);return t-n<e-t?n:e}function a(t){return o(t=r(new ti(t-1)),1),t}function i(t,n){return o(t=new ti(+t),n),t}function c(t,n,e){var r=a(t),i=[];if(1<e)for(;r<n;)u(r)%e||i.push(new Date(+r)),o(r,1);else for(;r<n;)i.push(new Date(+r)),o(r,1);return i}(r.floor=r).round=t,r.ceil=a,r.offset=i,r.range=c;var n=r.utc=Me(r);return(n.floor=n).round=Me(t),n.ceil=Me(a),n.offset=Me(i),n.range=function(t,n,e){try{var r=new(ti=he);return r._=t,c(r,n,e)}finally{ti=Date}},r}function Me(r){return function(t,n){try{var e=new(ti=he);return e._=t,r(e,n)._}finally{ti=Date}}}function _e(c,l,t){function f(t){return c(t)}return f.invert=function(t){return we(c.invert(t))},f.domain=function(t){return arguments.length?(c.domain(t),f):c.domain().map(we)},f.nice=function(t){return f.domain(wt(f.domain(),function(){return t}))},f.ticks=function(t,n){var e,r,i,o=(e=f.domain(),r=e[0],i=e[e.length-1],r<i?[r,i]:[i,r]);if("function"!=typeof t){var u=(o[1]-o[0])/t,a=d3.bisect(_i,u);if(a==_i.length)return l.year(o,t);if(!a)return c.ticks(t).map(we);Math.log(u/_i[a-1])<Math.log(_i[a]/u)&&--a,n=(t=l[a])[1],t=t[0].range}return t(o[0],new Date(+o[1]+1),n)},f.tickFormat=function(){return t},f.copy=function(){return _e(c.copy(),l,t)},d3.rebind(f,c,"range","rangeRound","interpolate","clamp")}function we(t){return new Date(t)}function ke(r){return function(t){for(var n=r.length-1,e=r[n];!e[1](t);)e=r[--n];return e[0](t)}}function Ne(t){var n=new Date(t,0,1);return n.setFullYear(t),n}function Ae(t){var n=t.getFullYear(),e=Ne(n);return n+(t-e)/(Ne(n+1)-e)}function Se(t){var n=new Date(Date.UTC(t,0,1));return n.setUTCFullYear(t),n}function Ce(t){var n=t.getUTCFullYear(),e=Se(n);return n+(t-e)/(Se(n+1)-e)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Te=CSSStyleDeclaration.prototype,qe=Te.setProperty;Te.setProperty=function(t,n,e){qe.call(this,t,n+"",e)}}d3={version:"2.10.3"};var ze=function(t){return Array.prototype.slice.call(t)};try{ze(document.documentElement.childNodes)[0].nodeType}catch(t){ze=n}var Ee=[].__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};d3.map=function(t){var n=new b;for(var e in t)n.set(e,t[e]);return n},function(n,e){try{for(var t in e)Object.defineProperty(n.prototype,t,{value:e[t],enumerable:!1})}catch(t){n.prototype=e}}(b,{has:function(t){return De+t in this},get:function(t){return this[De+t]},set:function(t,n){return this[De+t]=n},remove:function(t){return(t=De+t)in this&&delete this[t]},keys:function(){var n=[];return this.forEach(function(t){n.push(t)}),n},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(t){for(var n in this)n.charCodeAt(0)===Pe&&t.call(this,n.substring(1),this[n])}});var De="\0",Pe=De.charCodeAt(0);d3.functor=k,d3.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=o(t,n,n[e]);return t},d3.ascending=function(t,n){return t<n?-1:n<t?1:n<=t?0:NaN},d3.descending=function(t,n){return n<t?-1:t<n?1:t<=n?0:NaN},d3.mean=function(t,n){var e,r=t.length,i=0,o=-1,u=0;if(1===arguments.length)for(;++o<r;)c(e=t[o])&&(i+=(e-i)/++u);else for(;++o<r;)c(e=n.call(t,t[o],o))&&(i+=(e-i)/++u);return u?i:void 0},d3.median=function(t,n){return 1<arguments.length&&(t=t.map(n)),(t=t.filter(c)).length?d3.quantile(t.sort(d3.ascending),.5):void 0},d3.min=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&(null==(e=t[i])||e!=e);)e=void 0;for(;++i<o;)null!=(r=t[i])&&r<e&&(e=r)}else{for(;++i<o&&(null==(e=n.call(t,t[i],i))||e!=e);)e=void 0;for(;++i<o;)null!=(r=n.call(t,t[i],i))&&r<e&&(e=r)}return e},d3.max=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&(null==(e=t[i])||e!=e);)e=void 0;for(;++i<o;)null!=(r=t[i])&&e<r&&(e=r)}else{for(;++i<o&&(null==(e=n.call(t,t[i],i))||e!=e);)e=void 0;for(;++i<o;)null!=(r=n.call(t,t[i],i))&&e<r&&(e=r)}return e},d3.extent=function(t,n){var e,r,i,o=-1,u=t.length;if(1===arguments.length){for(;++o<u&&(null==(e=i=t[o])||e!=e);)e=i=void 0;for(;++o<u;)null!=(r=t[o])&&(r<e&&(e=r),i<r&&(i=r))}else{for(;++o<u&&(null==(e=i=n.call(t,t[o],o))||e!=e);)e=void 0;for(;++o<u;)null!=(r=n.call(t,t[o],o))&&(r<e&&(e=r),i<r&&(i=r))}return[e,i]},d3.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,n,e;!(e=(t=2*Math.random()-1)*t+(n=2*Math.random()-1)*n)||1<e;);return r+i*t*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(t,n){var e=arguments.length;e<2&&(n=1),e<1&&(t=0);var r=d3.random.normal();return function(){return Math.exp(t+n*r())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}},d3.sum=function(t,n){var e,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(e=+t[o])||(r+=e);else for(;++o<i;)isNaN(e=+n.call(t,t[o],o))||(r+=e);return r},d3.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=t[r-1],o=e-r;return o?i+o*(t[r]-i):i},d3.transpose=function(t){return d3.zip.apply(d3,t)},d3.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=d3.min(arguments,u),e=new Array(n);++t<n;)for(var r,i=-1,o=e[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return e},d3.bisector=function(o){return{left:function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var i=e+r>>>1;o.call(t,t[i],i)<n?e=i+1:r=i}return e},right:function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var i=e+r>>>1;n<o.call(t,t[i],i)?r=i:e=i+1}return e}}};var Le=d3.bisector(function(t){return t});d3.bisectLeft=Le.left,d3.bisect=d3.bisectRight=Le.right,d3.first=function(t,n){var e,r=0,i=t.length,o=t[0];for(1===arguments.length&&(n=d3.ascending);++r<i;)0<n.call(t,o,e=t[r])&&(o=e);return o},d3.last=function(t,n){var e,r=0,i=t.length,o=t[0];for(1===arguments.length&&(n=d3.ascending);++r<i;)n.call(t,o,e=t[r])<=0&&(o=e);return o},d3.nest=function(){function f(t,e){if(e>=g.length)return h?h.call(d,t):s?t.sort(s):t;for(var n,r,i,o=-1,u=t.length,a=g[e++],c=new b,l={};++o<u;)(i=c.get(n=a(r=t[o])))?i.push(r):c.set(n,[r]);return c.forEach(function(t,n){l[t]=f(n,e)}),l}var s,h,d={},g=[],u=[];return d.map=function(t){return f(t,0)},d.entries=function(t){return function t(n,e){if(e>=g.length)return n;var r,i=[],o=u[e++];for(r in n)i.push({key:r,values:t(n[r],e)});return o&&i.sort(function(t,n){return o(t.key,n.key)}),i}(f(t,0),0)},d.key=function(t){return g.push(t),d},d.sortKeys=function(t){return u[g.length-1]=t,d},d.sortValues=function(t){return s=t,d},d.rollup=function(t){return h=t,d},d},d3.keys=function(t){var n=[];for(var e in t)n.push(e);return n},d3.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},d3.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},d3.permute=function(t,n){for(var e=[],r=-1,i=n.length;++r<i;)e[r]=t[n[r]];return e},d3.merge=function(t){return Array.prototype.concat.apply([],t)},d3.split=function(t,n){var e,r=[],i=[],o=-1,u=t.length;for(arguments.length<2&&(n=l);++o<u;)n.call(i,e=t[o],o)?i=[]:(i.length||r.push(i),i.push(e));return r},d3.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,i=[],o=function(t){for(var n=1;t*n%1;)n*=10;return n}(Math.abs(e)),u=-1;if(t*=o,n*=o,(e*=o)<0)for(;(r=t+e*++u)>n;)i.push(r/o);else for(;(r=t+e*++u)<n;)i.push(r/o);return i},d3.requote=function(t){return t.replace(Fe,"\\$&")};var Fe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)},d3.xhr=function(t,n,e){var r=new XMLHttpRequest;arguments.length<3?(e=n,n=null):n&&r.overrideMimeType&&r.overrideMimeType(n),r.open("GET",t,!0),n&&r.setRequestHeader("Accept",n),r.onreadystatechange=function(){if(4===r.readyState){var t=r.status;e(!t&&r.response||200<=t&&t<300||304===t?r:null)}},r.send(null)},d3.text=function(t,n,e){arguments.length<3&&(e=n,n=null),d3.xhr(t,n,function(t){e(t&&t.responseText)})},d3.json=function(t,n){d3.text(t,"application/json",function(t){n(t?JSON.parse(t):null)})},d3.html=function(t,e){d3.text(t,"text/html",function(t){if(null!=t){var n=document.createRange();n.selectNode(document.body),t=n.createContextualFragment(t)}e(t)})},d3.xml=function(t,n,e){arguments.length<3&&(e=n,n=null),d3.xhr(t,n,function(t){e(t&&t.responseXML)})};var Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:Ie,qualify:function(t){var n=t.indexOf(":"),e=t;return 0<=n&&(e=t.substring(0,n),t=t.substring(n+1)),Ie.hasOwnProperty(e)?{space:Ie[e],local:t}:t}},d3.dispatch=function(){for(var t=new s,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=h(t);return t},s.prototype.on=function(t,n){var e=t.indexOf("."),r="";return 0<e&&(r=t.substring(e+1),t=t.substring(0,e)),arguments.length<2?this[t].on(r):this[t].on(r,n)},d3.format=function(t){var n=He.exec(t),i=n[1]||" ",o=n[3]||"",u=n[5],a=+n[6],c=n[7],l=n[8],f=n[9],s=1,h="",d=!1;switch(l&&(l=+l.substring(1)),u&&(i="0",c&&(a-=Math.floor((a-1)/4))),f){case"n":c=!0,f="g";break;case"%":s=100,h="%",f="f";break;case"p":s=100,h="%",f="r";break;case"d":d=!0,l=0;break;case"s":s=-1,f="r"}return"r"!=f||l||(f="g"),f=Oe.get(f)||e,function(t){if(d&&t%1)return"";var n,e=t<0&&(t=-t)?"-":o;if(s<0){var r=d3.formatPrefix(t,l);t=r.scale(t),h=r.symbol}else t*=s;(t=f(t,l),u)?((n=t.length+e.length)<a&&(t=new Array(a-n+1).join(i)+t),c&&(t=g(t)),t=e+t):(c&&(t=g(t)),(n=(t=e+t).length)<a&&(t=new Array(a-n+1).join(i)+t));return t+h}};var He=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Oe=d3.map({g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return d3.round(t,n=i(t,n)).toFixed(Math.max(0,Math.min(20,n)))}}),Re=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,n){var e=Math.pow(10,3*Math.abs(8-n));return{scale:8<n?function(t){return t/e}:function(t){return t*e},symbol:t}});d3.formatPrefix=function(t,n){var e=0;return t&&(t<0&&(t*=-1),n&&(t=d3.round(t,i(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e<=0?e+1:e-1)/3)))),Re[8+e/3]};var je=m(2),Ye=m(3),Ue=function(){return v},Ve=d3.map({linear:Ue,poly:m,quad:function(){return je},cubic:function(){return Ye},sin:function(){return y},exp:function(){return x},circle:function(){return M},elastic:function(n,e){var r;return arguments.length<2&&(e=.45),r=arguments.length<1?(n=1,e/4):e/(2*Math.PI)*Math.asin(1/n),function(t){return 1+n*Math.pow(2,10*-t)*Math.sin(2*(t-r)*Math.PI/e)}},back:function(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}},bounce:function(){return _}}),Ze=d3.map({in:v,out:d,"in-out":p,"out-in":function(t){return p(d(t))}});d3.ease=function(t){var n,e=t.indexOf("-"),r=0<=e?t.substring(0,e):t,i=0<=e?t.substring(e+1):"in";return r=Ve.get(r)||Ue,i=Ze.get(i)||v,n=i(r.apply(null,Array.prototype.slice.call(arguments,1))),function(t){return t<=0?0:1<=t?1:n(t)}},d3.event=null,d3.transform=function(t){var e=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate();return new N(n?n.matrix:Xe)})(t)},N.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Be=180/Math.PI,Xe={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(t,n){for(var e,r=d3.interpolators.length;0<=--r&&!(e=d3.interpolators[r](t,n)););return e},d3.interpolateNumber=function(n,e){return e-=n,function(t){return n+e*t}},d3.interpolateRound=function(n,e){return e-=n,function(t){return Math.round(n+e*t)}},d3.interpolateString=function(t,n){var e,r,i,o,u,a=0,c=[],l=[];for($e.lastIndex=0,r=0;e=$e.exec(n);++r)e.index&&c.push(n.substring(a,e.index)),l.push({i:c.length,x:e[0]}),c.push(null),a=$e.lastIndex;for(a<n.length&&c.push(n.substring(a)),r=0,o=l.length;(e=$e.exec(t))&&r<o;++r)if((u=l[r]).x==e[0]){if(u.i)if(null==c[u.i+1])for(c[u.i-1]+=u.x,c.splice(u.i,1),i=r+1;i<o;++i)l[i].i--;else for(c[u.i-1]+=u.x+c[u.i+1],c.splice(u.i,2),i=r+1;i<o;++i)l[i].i-=2;else if(null==c[u.i+1])c[u.i]=u.x;else for(c[u.i]=u.x+c[u.i+1],c.splice(u.i+1,1),i=r+1;i<o;++i)l[i].i--;l.splice(r,1),o--,r--}else u.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(u.x));for(;r<o;)u=l.pop(),null==c[u.i+1]?c[u.i]=u.x:(c[u.i]=u.x+c[u.i+1],c.splice(u.i+1,1)),o--;return 1===c.length?null==c[0]?l[0].x:function(){return n}:function(t){for(r=0;r<o;++r)c[(u=l[r]).i]=u.x(t);return c.join("")}},d3.interpolateTransform=function(t,n){var r,i=[],o=[],e=d3.transform(t),u=d3.transform(n),a=e.translate,c=u.translate,l=e.rotate,f=u.rotate,s=e.skew,h=u.skew,d=e.scale,g=u.scale;return a[0]!=c[0]||a[1]!=c[1]?(i.push("translate(",null,",",null,")"),o.push({i:1,x:d3.interpolateNumber(a[0],c[0])},{i:3,x:d3.interpolateNumber(a[1],c[1])})):c[0]||c[1]?i.push("translate("+c+")"):i.push(""),l!=f?(180<l-f?f+=360:180<f-l&&(l+=360),o.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(l,f)})):f&&i.push(i.pop()+"rotate("+f+")"),s!=h?o.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(s,h)}):h&&i.push(i.pop()+"skewX("+h+")"),d[0]!=g[0]||d[1]!=g[1]?(r=i.push(i.pop()+"scale(",null,",",null,")"),o.push({i:r-4,x:d3.interpolateNumber(d[0],g[0])},{i:r-2,x:d3.interpolateNumber(d[1],g[1])})):1==g[0]&&1==g[1]||i.push(i.pop()+"scale("+g+")"),r=o.length,function(t){for(var n,e=-1;++e<r;)i[(n=o[e]).i]=n.x(t);return i.join("")}},d3.interpolateRgb=function(t,n){t=d3.rgb(t),n=d3.rgb(n);var e=t.r,r=t.g,i=t.b,o=n.r-e,u=n.g-r,a=n.b-i;return function(t){return"#"+F(Math.round(e+o*t))+F(Math.round(r+u*t))+F(Math.round(i+a*t))}},d3.interpolateHsl=function(t,n){t=d3.hsl(t),n=d3.hsl(n);var e=t.h,r=t.s,i=t.l,o=n.h-e,u=n.s-r,a=n.l-i;return 180<o?o-=360:o<-180&&(o+=360),function(t){return V(e+o*t,r+u*t,i+a*t)+""}},d3.interpolateLab=function(t,n){t=d3.lab(t),n=d3.lab(n);var e=t.l,r=t.a,i=t.b,o=n.l-e,u=n.a-r,a=n.b-i;return function(t){return K(e+o*t,r+u*t,i+a*t)+""}},d3.interpolateHcl=function(t,n){t=d3.hcl(t),n=d3.hcl(n);var e=t.h,r=t.c,i=t.l,o=n.h-e,u=n.c-r,a=n.l-i;return 180<o?o-=360:o<-180&&(o+=360),function(t){return X(e+o*t,r+u*t,i+a*t)+""}},d3.interpolateArray=function(t,n){var e,r=[],i=[],o=t.length,u=n.length,a=Math.min(t.length,n.length);for(e=0;e<a;++e)r.push(d3.interpolate(t[e],n[e]));for(;e<o;++e)i[e]=t[e];for(;e<u;++e)i[e]=n[e];return function(t){for(e=0;e<a;++e)i[e]=r[e](t);return i}},d3.interpolateObject=function(t,n){var e,r={},i={};for(e in t)e in n?r[e]=q(e)(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}};var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(t,n){return n instanceof Array&&d3.interpolateArray(t,n)},function(t,n){return("string"==typeof t||"string"==typeof n)&&d3.interpolateString(t+"",n+"")},function(t,n){return("string"==typeof n?Ke.has(n)||/^(#|rgb\(|hsl\()/.test(n):n instanceof D)&&d3.interpolateRgb(t,n)},function(t,n){return!isNaN(t=+t)&&!isNaN(n=+n)&&d3.interpolateNumber(t,n)}],D.prototype.toString=function(){return this.rgb()+""},d3.rgb=function(t,n,e){return 1===arguments.length?t instanceof L?P(t.r,t.g,t.b):I(""+t,P,V):P(~~t,~~n,~~e)};var Ge=L.prototype=new D;Ge.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b;return n||e||r?(n&&n<30&&(n=30),e&&e<30&&(e=30),r&&r<30&&(r=30),P(Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(r/t)))):P(30,30,30)},Ge.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),P(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},Ge.hsl=function(){return H(this.r,this.g,this.b)},Ge.toString=function(){return"#"+F(this.r)+F(this.g)+F(this.b)};var Ke=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Ke.forEach(function(t,n){Ke.set(t,I(n,P,V))}),d3.hsl=function(t,n,e){return 1===arguments.length?t instanceof U?Y(t.h,t.s,t.l):I(""+t,H,Y):Y(+t,+n,+e)};var Je=U.prototype=new D;Je.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),Y(this.h,this.s,this.l/t)},Je.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),Y(this.h,this.s,t*this.l)},Je.rgb=function(){return V(this.h,this.s,this.l)},d3.hcl=function(t,n,e){return 1===arguments.length?t instanceof B?Z(t.h,t.c,t.l):J(t instanceof G?t.l:(t=O((t=d3.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Z(+t,+n,+e)};var Qe=B.prototype=new D;Qe.brighter=function(t){return Z(this.h,this.c,Math.min(100,this.l+We*(arguments.length?t:1)))},Qe.darker=function(t){return Z(this.h,this.c,Math.max(0,this.l-We*(arguments.length?t:1)))},Qe.rgb=function(){return X(this.h,this.c,this.l).rgb()},d3.lab=function(t,n,e){return 1===arguments.length?t instanceof G?$(t.l,t.a,t.b):t instanceof B?X(t.l,t.c,t.h):O((t=d3.rgb(t)).r,t.g,t.b):$(+t,+n,+e)};var We=18,tr=.95047,nr=1,er=1.08883,rr=G.prototype=new D;rr.brighter=function(t){return $(Math.min(100,this.l+We*(arguments.length?t:1)),this.a,this.b)},rr.darker=function(t){return $(Math.max(0,this.l-We*(arguments.length?t:1)),this.a,this.b)},rr.rgb=function(){return K(this.l,this.a,this.b)};var ir=function(t,n){return n.querySelector(t)},or=function(t,n){return n.querySelectorAll(t)},ur=document.documentElement,ar=ur.matchesSelector||ur.webkitMatchesSelector||ur.mozMatchesSelector||ur.msMatchesSelector||ur.oMatchesSelector,cr=function(t,n){return ar.call(t,n)};"function"==typeof Sizzle&&(ir=function(t,n){return Sizzle(t,n)[0]||null},or=function(t,n){return Sizzle.uniqueSort(Sizzle(t,n))},cr=Sizzle.matchesSelector);var lr=[];d3.selection=function(){return fr},(d3.selection.prototype=lr).select=function(t){var n,e,r,i,o=[];"function"!=typeof t&&(t=et(t));for(var u=-1,a=this.length;++u<a;){o.push(n=[]),n.parentNode=(r=this[u]).parentNode;for(var c=-1,l=r.length;++c<l;)(i=r[c])?(n.push(e=t.call(i,i.__data__,c)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return nt(o)},lr.selectAll=function(t){var n,e,r=[];"function"!=typeof t&&(t=rt(t));for(var i=-1,o=this.length;++i<o;)for(var u=this[i],a=-1,c=u.length;++a<c;)(e=u[a])&&(r.push(n=ze(t.call(e,e.__data__,a))),n.parentNode=e);return nt(r)},lr.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return(t=d3.ns.qualify(t)).local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(it(n,t[n]));return this}return this.each(it(t,n))},lr.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=t.trim().split(/^|\s+/g)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(null!=(n=e.className).baseVal&&(n=n.baseVal);++i<r;)if(!ot(t[i]).test(n))return!1;return!0}for(n in t)this.each(ut(n,t[n]));return this}return this.each(ut(t,n))},lr.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.each(ct(e,t[e],n));return this}if(r<2)return window.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each(ct(t,n,e))},lr.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(lt(n,t[n]));return this}return this.each(lt(t,n))},lr.text=function(n){return arguments.length<1?this.node().textContent:this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n})},lr.html=function(n){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n})},lr.append=function(t){return t=d3.ns.qualify(t),this.select(t.local?function(){return this.appendChild(document.createElementNS(t.space,t.local))}:function(){return this.appendChild(document.createElementNS(this.namespaceURI,t))})},lr.insert=function(t,n){return t=d3.ns.qualify(t),this.select(t.local?function(){return this.insertBefore(document.createElementNS(t.space,t.local),ir(n,this))}:function(){return this.insertBefore(document.createElementNS(this.namespaceURI,t),ir(n,this))})},lr.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},lr.data=function(t,v){function n(t,n){var e,r,i,o=t.length,u=n.length,a=Math.min(o,u),c=Math.max(o,u),l=[],f=[],s=[];if(v){var h,d=new b,g=[],p=n.length;for(e=-1;++e<o;)h=v.call(r=t[e],r.__data__,e),d.has(h)?s[p++]=r:d.set(h,r),g.push(h);for(e=-1;++e<u;)h=v.call(n,i=n[e],e),d.has(h)?(l[e]=r=d.get(h),r.__data__=i,f[e]=s[e]=null):(f[e]=ft(i),l[e]=s[e]=null),d.remove(h);for(e=-1;++e<o;)d.has(g[e])&&(s[e]=t[e])}else{for(e=-1;++e<a;)r=t[e],i=n[e],r?(r.__data__=i,l[e]=r,f[e]=s[e]=null):(f[e]=ft(i),l[e]=s[e]=null);for(;e<u;++e)f[e]=ft(n[e]),l[e]=s[e]=null;for(;e<c;++e)s[e]=t[e],f[e]=l[e]=null}f.update=l,f.parentNode=l.parentNode=s.parentNode=t.parentNode,m.push(f),y.push(l),x.push(s)}var e,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(e=this[0]).length);++i<o;)(r=e[i])&&(t[i]=r.__data__);return t}var m=gt([]),y=nt([]),x=nt([]);if("function"==typeof t)for(;++i<o;)n(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<o;)n(e=this[i],t);return y.enter=function(){return m},y.exit=function(){return x},y},lr.datum=lr.map=function(t){return arguments.length<1?this.property("__data__"):this.property("__data__",t)},lr.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=st(t));for(var o=0,u=this.length;o<u;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var a=0,c=e.length;a<c;a++)(r=e[a])&&t.call(r,r.__data__,a)&&n.push(r)}return nt(i)},lr.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];0<=--i;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},lr.sort=function(t){t=function(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},lr.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=!1),t)this.each(ht(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(ht(t,n,e))},lr.each=function(r){return dt(this,function(t,n,e){r.call(t,t.__data__,n,e)})},lr.call=function(t){return t.apply(this,(t=this,arguments)),this},lr.empty=function(){return!this.node()},lr.node=function(t){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],i=0,o=r.length;i<o;i++){var u=r[i];if(u)return u}return null},lr.transition=function(){for(var t,n,e=[],r=-1,i=this.length;++r<i;){e.push(t=[]);for(var o=this[r],u=-1,a=o.length;++u<a;)t.push((n=o[u])?{node:n,delay:vr,duration:mr}:null)}return pt(e,gr||++dr,Date.now())};var fr=nt([[document]]);fr[0].parentNode=ur,d3.select=function(t){return"string"==typeof t?fr.select(t):nt([[t]])},d3.selectAll=function(t){return"string"==typeof t?fr.selectAll(t):nt([ze(t)])};var sr=[];d3.selection.enter=gt,(d3.selection.enter.prototype=sr).append=lr.append,sr.insert=lr.insert,sr.empty=lr.empty,sr.node=lr.node,sr.select=function(t){for(var n,e,r,i,o,u=[],a=-1,c=this.length;++a<c;){r=(i=this[a]).update,u.push(n=[]),n.parentNode=i.parentNode;for(var l=-1,f=i.length;++l<f;)(o=i[l])?(n.push(r[l]=e=t.call(i.parentNode,o.__data__,l)),e.__data__=o.__data__):n.push(null)}return nt(u)};var hr=[],dr=0,gr=0,pr=d3.ease("cubic-in-out"),vr=0,mr=250,yr=pr;hr.call=lr.call,d3.transition=function(t){return arguments.length?gr?t.transition():t:fr.transition()},(d3.transition.prototype=hr).select=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=et(t));for(var o=-1,u=this.length;++o<u;){i.push(n=[]);for(var a=this[o],c=-1,l=a.length;++c<l;)(r=a[c])&&(e=t.call(r.node,r.node.__data__,c))?("__data__"in r.node&&(e.__data__=r.node.__data__),n.push({node:e,delay:r.delay,duration:r.duration})):n.push(null)}return pt(i,this.id,this.time).ease(this.ease())},hr.selectAll=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=rt(t));for(var o=-1,u=this.length;++o<u;)for(var a=this[o],c=-1,l=a.length;++c<l;)if(r=a[c]){e=t.call(r.node,r.node.__data__,c),i.push(n=[]);for(var f=-1,s=e.length;++f<s;)n.push({node:e[f],delay:r.delay,duration:r.duration})}return pt(i,this.id,this.time).ease(this.ease())},hr.filter=function(t){var n,e,r=[];"function"!=typeof t&&(t=st(t));for(var i=0,o=this.length;i<o;i++){r.push(n=[]);for(var u,a=0,c=(u=this[i]).length;a<c;a++)(e=u[a])&&t.call(e.node,e.node.__data__,a)&&n.push(e)}return pt(r,this.id,this.time).ease(this.ease())},hr.attr=function(t,n){if(arguments.length<2){for(n in t)this.attrTween(n,mt(t[n],n));return this}return this.attrTween(t,mt(n,t))},hr.attrTween=function(t,r){var i=d3.ns.qualify(t);return this.tween("attr."+t,i.local?function(t,n){var e=r.call(this,t,n,this.getAttributeNS(i.space,i.local));return e===Mr?(this.removeAttributeNS(i.space,i.local),null):e&&function(t){this.setAttributeNS(i.space,i.local,e(t))}}:function(t,n){var e=r.call(this,t,n,this.getAttribute(i));return e===Mr?(this.removeAttribute(i),null):e&&function(t){this.setAttribute(i,e(t))}})},hr.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.styleTween(e,mt(t[e],e),n);return this}e=""}return this.styleTween(t,mt(n,t),e)},hr.styleTween=function(r,i,o){return arguments.length<3&&(o=""),this.tween("style."+r,function(t,n){var e=i.call(this,t,n,window.getComputedStyle(this,null).getPropertyValue(r));return e===Mr?(this.style.removeProperty(r),null):e&&function(t){this.style.setProperty(r,e(t),o)}})},hr.text=function(e){return this.tween("text",function(t,n){this.textContent="function"==typeof e?e.call(this,t,n):e})},hr.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},hr.delay=function(r){return dt(this,"function"==typeof r?function(t,n,e){t.delay=0|r.call(t=t.node,t.__data__,n,e)}:(r|=0,function(t){t.delay=r}))},hr.duration=function(r){return dt(this,"function"==typeof r?function(t,n,e){t.duration=Math.max(1,0|r.call(t=t.node,t.__data__,n,e))}:(r=Math.max(1,0|r),function(t){t.duration=r}))},hr.transition=function(){return this.select(t)},d3.tween=function(i,o){return"function"==typeof i?function(t,n,e){var r=i.call(this,t,n);return null==r?""!=e&&Mr:e!=r&&o(e,r+"")}:null==i?vt:(i+="",function(t,n,e){return e!=i&&o(e,i)})};var xr,br,Mr={},_r=0,wr={},kr=null;d3.timer=function(t,n,e){if(arguments.length<3){if(arguments.length<2)n=0;else if(!isFinite(n))return;e=Date.now()}var r=wr[t.id];r&&r.callback===t?(r.then=e,r.delay=n):wr[t.id=++_r]=kr={callback:t,then:e,delay:n,next:kr},xr||(br=clearTimeout(br),xr=1,Nr(yt))},d3.timer.flush=function(){for(var t,n=Date.now(),e=kr;e;)t=n-e.then,e.delay||(e.flush=e.callback(t)),e=e.next;xt()};var Nr=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};d3.mouse=function(t){return bt(t,w())};var Ar=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=w().touches),t?ze(t).map(function(t){var n=bt(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return function t(e,r,i,o){function n(){var t=2<Math.min(e.length,r.length)?zt:qt,n=o?E:z;return a=t(e,r,n,i),c=t(r,e,n,d3.interpolate),u}function u(t){return a(t)}var a,c;return u.invert=function(t){return c(t)},u.domain=function(t){return arguments.length?(e=t.map(Number),n()):e},u.range=function(t){return arguments.length?(r=t,n()):r},u.rangeRound=function(t){return u.range(t).interpolate(d3.interpolateRound)},u.clamp=function(t){return arguments.length?(o=t,n()):o},u.interpolate=function(t){return arguments.length?(i=t,n()):i},u.ticks=function(t){return Ct(e,t)},u.tickFormat=function(t){return Tt(e,t)},u.nice=function(){return wt(e,At),n()},u.copy=function(){return t(e,r,i,o)},n()}([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return function t(a,c){function o(t){return a(c(t))}var l=c.pow;return o.invert=function(t){return l(a.invert(t))},o.domain=function(t){return arguments.length?(c=t[0]<0?Dt:Et,l=c.pow,a.domain(t.map(c)),o):a.domain().map(l)},o.nice=function(){return a.domain(wt(a.domain(),kt)),o},o.ticks=function(){var t=Mt(a.domain()),n=[];if(t.every(isFinite)){var e=Math.floor(t[0]),r=Math.ceil(t[1]),i=l(t[0]),o=l(t[1]);if(c===Dt)for(n.push(l(e));e++<r;)for(var u=9;0<u;u--)n.push(l(e)*u);else{for(;e<r;e++)for(u=1;u<10;u++)n.push(l(e)*u);n.push(l(e))}for(e=0;n[e]<i;e++);for(r=n.length;n[r-1]>o;r--);n=n.slice(e,r)}return n},o.tickFormat=function(t,n){if(arguments.length<2&&(n=Sr),arguments.length<1)return n;var e,r=Math.max(.1,t/o.ticks().length),i=c===Dt?(e=-1e-12,Math.floor):(e=1e-12,Math.ceil);return function(t){return t/l(i(c(t)+e))<=r?n(t):""}},o.copy=function(){return t(a.copy(),c)},Nt(o,a)}(d3.scale.linear(),Et)};var Sr=d3.format(".0e");Et.pow=function(t){return Math.pow(10,t)},Dt.pow=function(t){return-Math.pow(10,-t)},d3.scale.pow=function(){return function t(n,e){function r(t){return n(i(t))}var i=Pt(e),o=Pt(1/e);return r.invert=function(t){return o(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t.map(i)),r):n.domain().map(o)},r.ticks=function(t){return Ct(r.domain(),t)},r.tickFormat=function(t){return Tt(r.domain(),t)},r.nice=function(){return r.domain(wt(r.domain(),At))},r.exponent=function(t){if(!arguments.length)return e;var n=r.domain();return i=Pt(e=t),o=Pt(1/e),r.domain(n)},r.copy=function(){return t(n.copy(),e)},Nt(r,n)}(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return function t(c,l){function f(t){return h[((i.get(t)||i.set(t,c.push(t)))-1)%h.length]}function s(n,e){return d3.range(c.length).map(function(t){return n+e*t})}var i,h,d;return f.domain=function(t){if(!arguments.length)return c;c=[],i=new b;for(var n,e=-1,r=t.length;++e<r;)i.has(n=t[e])||i.set(n,c.push(n));return f[l.t].apply(f,l.a)},f.range=function(t){return arguments.length?(h=t,d=0,l={t:"range",a:arguments},f):h},f.rangePoints=function(t,n){arguments.length<2&&(n=0);var e=t[0],r=t[1],i=(r-e)/(Math.max(1,c.length-1)+n);return h=s(c.length<2?(e+r)/2:e+i*n/2,i),d=0,l={t:"rangePoints",a:arguments},f},f.rangeBands=function(t,n,e){arguments.length<2&&(n=0),arguments.length<3&&(e=n);var r=t[1]<t[0],i=t[r-0],o=(t[1-r]-i)/(c.length-n+2*e);return h=s(i+o*e,o),r&&h.reverse(),d=o*(1-n),l={t:"rangeBands",a:arguments},f},f.rangeRoundBands=function(t,n,e){arguments.length<2&&(n=0),arguments.length<3&&(e=n);var r=t[1]<t[0],i=t[r-0],o=t[1-r],u=Math.floor((o-i)/(c.length-n+2*e)),a=o-i-(c.length-n)*u;return h=s(i+Math.round(a/2),u),r&&h.reverse(),d=Math.round(u*(1-n)),l={t:"rangeRoundBands",a:arguments},f},f.rangeBand=function(){return d},f.rangeExtent=function(){return Mt(l.a[0])},f.copy=function(){return t(c,l)},f.domain(c)}([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Cr)},d3.scale.category20=function(){return d3.scale.ordinal().range(Tr)},d3.scale.category20b=function(){return d3.scale.ordinal().range(qr)},d3.scale.category20c=function(){return d3.scale.ordinal().range(zr)};var Cr=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Tr=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],qr=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],zr=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return function t(e,r){function n(){var t=0,n=(e.length,r.length);for(o=[];++t<n;)o[t-1]=d3.quantile(e,t/n);return i}function i(t){return isNaN(t=+t)?NaN:r[d3.bisect(o,t)]}var o;return i.domain=function(t){return arguments.length?(e=t.filter(function(t){return!isNaN(t)}).sort(d3.ascending),n()):e},i.range=function(t){return arguments.length?(r=t,n()):r},i.quantiles=function(){return o},i.copy=function(){return t(e,r)},n()}([],[])},d3.scale.quantize=function(){return function t(n,e,r){function i(t){return r[Math.max(0,Math.min(a,Math.floor(u*(t-n))))]}function o(){return u=r.length/(e-n),a=r.length-1,i}var u,a;return i.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],o()):[n,e]},i.range=function(t){return arguments.length?(r=t,o()):r},i.copy=function(){return t(n,e,r)},o()}(0,1,[0,1])},d3.scale.threshold=function(){return function t(n,e){function r(t){return e[d3.bisect(n,t)]}return r.domain=function(t){return arguments.length?(n=t,r):n},r.range=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(n,e)},r}([.5],[0,1])},d3.scale.identity=function(){return function t(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Ct(n,t)},e.tickFormat=function(t){return Tt(n,t)},e.copy=function(){return t(n)},e}([0,1])},d3.svg={},d3.svg.arc=function(){function n(){var t=f.apply(this,arguments),n=s.apply(this,arguments),e=h.apply(this,arguments)+Er,r=d.apply(this,arguments)+Er,i=(r<e&&(i=e,e=r,r=i),r-e),o=i<Math.PI?"0":"1",u=Math.cos(e),a=Math.sin(e),c=Math.cos(r),l=Math.sin(r);return Dr<=i?t?"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z":t?"M"+n*u+","+n*a+"A"+n+","+n+" 0 "+o+",1 "+n*c+","+n*l+"L"+t*c+","+t*l+"A"+t+","+t+" 0 "+o+",0 "+t*u+","+t*a+"Z":"M"+n*u+","+n*a+"A"+n+","+n+" 0 "+o+",1 "+n*c+","+n*l+"L0,0Z"}var f=Lt,s=Ft,h=It,d=Ht;return n.innerRadius=function(t){return arguments.length?(f=k(t),n):f},n.outerRadius=function(t){return arguments.length?(s=k(t),n):s},n.startAngle=function(t){return arguments.length?(h=k(t),n):h},n.endAngle=function(t){return arguments.length?(d=k(t),n):d},n.centroid=function(){var t=(f.apply(this,arguments)+s.apply(this,arguments))/2,n=(h.apply(this,arguments)+d.apply(this,arguments))/2+Er;return[Math.cos(n)*t,Math.sin(n)*t]},n};var Er=-Math.PI/2,Dr=2*Math.PI-1e-6;d3.svg.line=function(){return Ot(a)};var Pr=d3.map({linear:Yt,"linear-closed":function(t){return Yt(t)+"Z"},"step-before":Ut,"step-after":Vt,basis:Xt,"basis-open":function(t){if(t.length<4)return Yt(t);for(var n,e=[],r=-1,i=t.length,o=[0],u=[0];++r<3;)n=t[r],o.push(n[0]),u.push(n[1]);for(e.push($t(Ir,o)+","+$t(Ir,u)),--r;++r<i;)n=t[r],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),Gt(e,o,u);return e.join("")},"basis-closed":function(t){for(var n,e,r=-1,i=t.length,o=i+4,u=[],a=[];++r<4;)e=t[r%i],u.push(e[0]),a.push(e[1]);for(n=[$t(Ir,u),",",$t(Ir,a)],--r;++r<o;)e=t[r%i],u.shift(),u.push(e[0]),a.shift(),a.push(e[1]),Gt(n,u,a);return n.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var r,i,o=t[0][0],u=t[0][1],a=t[e][0]-o,c=t[e][1]-u,l=-1;++l<=e;)i=l/e,(r=t[l])[0]=n*r[0]+(1-n)*(o+i*a),r[1]=n*r[1]+(1-n)*(u+i*c);return Xt(t)},cardinal:function(t,n,e){return t.length<3?Yt(t):t[0]+Zt(t,Bt(t,n))},"cardinal-open":function(t,n){return t.length<4?Yt(t):t[1]+Zt(t.slice(1,t.length-1),Bt(t,n))},"cardinal-closed":function(t,n){return t.length<3?Yt(t):t[0]+Zt((t.push(t[0]),t),Bt([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?Yt(t):t[0]+Zt(t,Jt(t))}});Pr.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Lr=[0,2/3,1/3,0],Fr=[0,1/3,2/3,0],Ir=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var t=Ot(Qt);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Ut.reverse=Vt).reverse=Ut,d3.svg.area=function(){return Wt(a)},d3.svg.area.radial=function(){var t=Wt(Qt);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},d3.svg.chord=function(){function n(t,n){var e,r,i=u(this,l,t,n),o=u(this,f,t,n);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(r=o,(e=i).a0==r.a0&&e.a1==r.a1?c(i.r,i.p1,i.r,i.p0):c(i.r,i.p1,o.r,o.p0)+a(o.r,o.p1,o.a1-o.a0)+c(o.r,o.p1,i.r,i.p0))+"Z"}function u(t,n,e,r){var i=n.call(t,e,r),o=s.call(t,i,r),u=h.call(t,i,r)+Er,a=d.call(t,i,r)+Er;return{r:o,a0:u,a1:a,p0:[o*Math.cos(u),o*Math.sin(u)],p1:[o*Math.cos(a),o*Math.sin(a)]}}function a(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Math.PI)+",1 "+n}function c(t,n,e,r){return"Q 0,0 "+r}var l=tn,f=nn,s=en,h=It,d=Ht;return n.radius=function(t){return arguments.length?(s=k(t),n):s},n.source=function(t){return arguments.length?(l=k(t),n):l},n.target=function(t){return arguments.length?(f=k(t),n):f},n.startAngle=function(t){return arguments.length?(h=k(t),n):h},n.endAngle=function(t){return arguments.length?(d=k(t),n):d},n},d3.svg.diagonal=function(){function n(t,n){var e=u.call(this,t,n),r=a.call(this,t,n),i=(e.y+r.y)/2,o=[e,{x:e.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(c))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var u=tn,a=nn,c=rn;return n.source=function(t){return arguments.length?(u=k(t),n):u},n.target=function(t){return arguments.length?(a=k(t),n):a},n.projection=function(t){return arguments.length?(c=t,n):c},n},d3.svg.diagonal.radial=function(){var t=d3.svg.diagonal(),n=rn,e=t.projection;return t.projection=function(t){return arguments.length?e((r=n=t,function(){var t=r.apply(this,arguments),n=t[0],e=t[1]+Er;return[n*Math.cos(e),n*Math.sin(e)]})):n;var r},t},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function n(t,n){return(Hr.get(e.call(this,t,n))||an)(r.call(this,t,n))}var e=un,r=on;return n.type=function(t){return arguments.length?(e=k(t),n):e},n.size=function(t){return arguments.length?(r=k(t),n):r},n};var Hr=d3.map({circle:an,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Rr)),e=n*Rr;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Or),e=n*Or/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Or),e=n*Or/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});d3.svg.symbolTypes=Hr.keys();var Or=Math.sqrt(3),Rr=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function i(t){t.each(function(){var t,n=d3.select(this),e=null==D?A.ticks?A.ticks.apply(A,E):A.domain():D,r=null==N?A.tickFormat?A.tickFormat.apply(A,E):String:N,i=function(t,n,e){if(r=[],e&&1<n.length){for(var r,i,o,u=Mt(t.domain()),a=-1,c=n.length,l=(n[1]-n[0])/++e;++a<c;)for(i=e;0<--i;)(o=+n[a]-i*l)>=u[0]&&r.push(o);for(--a,i=0;++i<e&&(o=+n[a]+i*l)<u[1];)r.push(o)}return r}(A,e,P),o=n.selectAll(".minor").data(i,String),u=o.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),a=d3.transition(o.exit()).style("opacity",1e-6).remove(),c=d3.transition(o).style("opacity",1),l=n.selectAll("g").data(e,String),f=l.enter().insert("g","path").style("opacity",1e-6),s=d3.transition(l.exit()).style("opacity",1e-6).remove(),h=d3.transition(l).style("opacity",1),d=_t(A),g=n.selectAll(".domain").data([0]),p=(g.enter().append("path").attr("class","domain"),d3.transition(g)),v=A.copy(),m=this.__chart__||v;this.__chart__=v,f.append("line").attr("class","tick"),f.append("text");var y=f.select("line"),x=h.select("line"),b=l.select("text").text(r),M=f.select("text"),_=h.select("text");switch(S){case"bottom":t=cn,u.attr("y2",T),c.attr("x2",0).attr("y2",T),y.attr("y2",C),M.attr("y",Math.max(C,0)+z),x.attr("x2",0).attr("y2",C),_.attr("x",0).attr("y",Math.max(C,0)+z),b.attr("dy",".71em").attr("text-anchor","middle"),p.attr("d","M"+d[0]+","+q+"V0H"+d[1]+"V"+q);break;case"top":t=cn,u.attr("y2",-T),c.attr("x2",0).attr("y2",-T),y.attr("y2",-C),M.attr("y",-(Math.max(C,0)+z)),x.attr("x2",0).attr("y2",-C),_.attr("x",0).attr("y",-(Math.max(C,0)+z)),b.attr("dy","0em").attr("text-anchor","middle"),p.attr("d","M"+d[0]+","+-q+"V0H"+d[1]+"V"+-q);break;case"left":t=ln,u.attr("x2",-T),c.attr("x2",-T).attr("y2",0),y.attr("x2",-C),M.attr("x",-(Math.max(C,0)+z)),x.attr("x2",-C).attr("y2",0),_.attr("x",-(Math.max(C,0)+z)).attr("y",0),b.attr("dy",".32em").attr("text-anchor","end"),p.attr("d","M"+-q+","+d[0]+"H0V"+d[1]+"H"+-q);break;case"right":t=ln,u.attr("x2",T),c.attr("x2",T).attr("y2",0),y.attr("x2",C),M.attr("x",Math.max(C,0)+z),x.attr("x2",C).attr("y2",0),_.attr("x",Math.max(C,0)+z).attr("y",0),b.attr("dy",".32em").attr("text-anchor","start"),p.attr("d","M"+q+","+d[0]+"H0V"+d[1]+"H"+q)}if(A.ticks)f.call(t,m),h.call(t,v),s.call(t,v),u.call(t,m),c.call(t,v),a.call(t,v);else{var w=v.rangeBand()/2,k=function(t){return v(t)+w};f.call(t,k),h.call(t,k)}})}var N,A=d3.scale.linear(),S="bottom",C=6,T=6,q=6,z=3,E=[10],D=null,P=0;return i.scale=function(t){return arguments.length?(A=t,i):A},i.orient=function(t){return arguments.length?(S=t,i):S},i.ticks=function(){return arguments.length?(E=arguments,i):E},i.tickValues=function(t){return arguments.length?(D=t,i):D},i.tickFormat=function(t){return arguments.length?(N=t,i):N},i.tickSize=function(t,n,e){if(!arguments.length)return C;var r=arguments.length-1;return C=+t,T=1<r?+n:C,q=0<r?+arguments[r]:C,i},i.tickPadding=function(t){return arguments.length?(z=+t,i):z},i.tickSubdivide=function(t){return arguments.length?(P=+t,i):P},i},d3.svg.brush=function(){function y(t){t.each(function(){var t,n=d3.select(this),e=n.selectAll(".background").data([0]),r=n.selectAll(".extent").data([0]),i=n.selectAll(".resize").data(u,String);n.style("pointer-events","all").on("mousedown.brush",o).on("touchstart.brush",o),e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.enter().append("rect").attr("class","extent").style("cursor","move"),i.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return jr[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),i.style("display",y.empty()?"none":null),i.exit().remove(),k&&(t=_t(k),e.attr("x",t[0]).attr("width",t[1]-t[0]),b(n)),N&&(t=_t(N),e.attr("y",t[0]).attr("height",t[1]-t[0]),M(n)),x(n)})}function x(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+A[+/e$/.test(t)][0]+","+A[+/^s/.test(t)][1]+")"})}function b(t){t.select(".extent").attr("x",A[0][0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",A[1][0]-A[0][0])}function M(t){t.select(".extent").attr("y",A[0][1]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1][1]-A[0][1])}function o(){function e(){var t=d3.event.changedTouches;return t?d3.touches(o,t)[0]:d3.mouse(o)}function t(){var t=e(),n=!1;i&&(t[0]+=i[0],t[1]+=i[1]),d||(d3.event.altKey?(f||(f=[(A[0][0]+A[1][0])/2,(A[0][1]+A[1][1])/2]),g[0]=A[+(t[0]<f[0])][0],g[1]=A[+(t[1]<f[1])][1]):f=null),s&&r(t,k,0)&&(b(c),n=!0),h&&r(t,N,1)&&(M(c),n=!0),n&&(x(c),a({type:"brush",mode:d?"move":"resize"}))}function r(t,n,e){var r,i,o=_t(n),u=o[0],a=o[1],c=g[e],l=A[1][e]-A[0][e];if(d&&(u-=c,a-=l+c),r=Math.max(u,Math.min(a,t[e])),d?i=(r+=c)+l:(f&&(c=Math.max(u,Math.min(a,2*f[e]-r))),c<r?(i=r,r=c):i=c),A[0][e]!==r||A[1][e]!==i)return _=null,A[0][e]=r,A[1][e]=i,!0}function n(){t(),c.style("pointer-events","all").selectAll(".resize").style("display",y.empty()?"none":null),d3.select("body").style("cursor",null),p.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),a({type:"brushend"}),S()}var f,i,o=this,u=d3.select(d3.event.target),a=w.of(o,arguments),c=d3.select(o),l=u.datum(),s=!/^(n|s)$/.test(l)&&k,h=!/^(e|w)$/.test(l)&&N,d=u.classed("extent"),g=e(),p=d3.select(window).on("mousemove.brush",t).on("mouseup.brush",n).on("touchmove.brush",t).on("touchend.brush",n).on("keydown.brush",function(){32==d3.event.keyCode&&(d||(f=null,g[0]-=A[1][0],g[1]-=A[1][1],d=2),S())}).on("keyup.brush",function(){32==d3.event.keyCode&&2==d&&(g[0]+=A[1][0],g[1]+=A[1][1],d=0,S())});if(d)g[0]=A[0][0]-g[0],g[1]=A[0][1]-g[1];else if(l){var v=+/w$/.test(l),m=+/^n/.test(l);i=[A[1-v][0]-g[0],A[1-m][1]-g[1]],g[0]=A[v][0],g[1]=A[m][1]}else d3.event.altKey&&(f=g.slice());c.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",u.style("cursor")),a({type:"brushstart"}),t(),S()}var _,w=C(y,"brushstart","brush","brushend"),k=null,N=null,u=Yr[0],A=[[0,0],[0,0]];return y.x=function(t){return arguments.length?(u=Yr[!(k=t)<<1|!N],y):k},y.y=function(t){return arguments.length?(u=Yr[!k<<1|!(N=t)],y):N},y.extent=function(t){var n,e,r,i,o;return arguments.length?(_=[[0,0],[0,0]],k&&(n=t[0],e=t[1],N&&(n=n[0],e=e[0]),_[0][0]=n,_[1][0]=e,k.invert&&(n=k(n),e=k(e)),e<n&&(o=n,n=e,e=o),A[0][0]=0|n,A[1][0]=0|e),N&&(r=t[0],i=t[1],k&&(r=r[1],i=i[1]),_[0][1]=r,_[1][1]=i,N.invert&&(r=N(r),i=N(i)),i<r&&(o=r,r=i,i=o),A[0][1]=0|r,A[1][1]=0|i),y):(t=_||A,k&&(n=t[0][0],e=t[1][0],_||(n=A[0][0],e=A[1][0],k.invert&&(n=k.invert(n),e=k.invert(e)),e<n&&(o=n,n=e,e=o))),N&&(r=t[0][1],i=t[1][1],_||(r=A[0][1],i=A[1][1],N.invert&&(r=N.invert(r),i=N.invert(i)),i<r&&(o=r,r=i,i=o))),k&&N?[[n,r],[e,i]]:k?[n,e]:N&&[r,i])},y.clear=function(){return _=null,A[0][0]=A[0][1]=A[1][0]=A[1][1]=0,y},y.empty=function(){return k&&A[0][0]===A[1][0]||N&&A[0][1]===A[1][1]},d3.rebind(y,w,"on")};var jr={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Yr=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function n(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function r(){var t=u.parentNode;return e?d3.touches(t).filter(function(t){return t.identifier===e})[0]:d3.mouse(t)}function i(){a({type:"dragend"}),l&&(S(),d3.event.target===n&&f.on("click.drag",t,!0)),f.on(e?"touchmove.drag-"+e:"mousemove.drag",null).on(e?"touchend.drag-"+e:"mouseup.drag",null)}function t(){S(),f.on("click.drag",null)}var o,u=this,a=s.of(u,arguments),n=d3.event.target,e=d3.event.touches&&d3.event.changedTouches[0].identifier,c=r(),l=0,f=d3.select(window).on(e?"touchmove.drag-"+e:"mousemove.drag",function(){if(!u.parentNode)return i();var t=r(),n=t[0]-c[0],e=t[1]-c[1];l|=n|e,c=t,S(),a({type:"drag",x:t[0]+o[0],y:t[1]+o[1],dx:n,dy:e})}).on(e?"touchend.drag-"+e:"mouseup.drag",i,!0);o=h?[(o=h.apply(u,arguments)).x-c[0],o.y-c[1]]:[0,0],e||S(),a({type:"dragstart"})}var s=C(n,"drag","dragstart","dragend"),h=null;return n.origin=function(t){return arguments.length?(h=t,n):h},d3.rebind(n,s,"on")},d3.behavior.zoom=function(){function n(){this.on("mousedown.zoom",t).on("mousewheel.zoom",e).on("mousemove.zoom",r).on("DOMMouseScroll.zoom",e).on("dblclick.zoom",i).on("touchstart.zoom",u).on("touchmove.zoom",f).on("touchend.zoom",u)}function a(t){return[(t[0]-y[0])/x,(t[1]-y[1])/x]}function o(t){x=Math.max(b[0],Math.min(b[1],t))}function c(t,n){var e;n=[(e=n)[0]*x+y[0],e[1]*x+y[1]],y[0]+=t[0]-n[0],y[1]+=t[1]-n[1]}function l(t){g&&g.domain(d.range().map(function(t){return(t-y[0])/x}).map(d.invert)),v&&v.domain(p.range().map(function(t){return(t-y[1])/x}).map(p.invert)),d3.event.preventDefault(),t({type:"zoom",scale:x,translate:y})}function t(){function t(){S(),o.on("click.zoom",null)}var n=this,e=M.of(n,arguments),r=d3.event.target,i=0,o=d3.select(window).on("mousemove.zoom",function(){i=1,c(d3.mouse(n),u),l(e)}).on("mouseup.zoom",function(){i&&S(),o.on("mousemove.zoom",null).on("mouseup.zoom",null),i&&d3.event.target===r&&o.on("click.zoom",t,!0)}),u=a(d3.mouse(n));window.focus(),S()}function e(){s||(s=a(d3.mouse(this))),o(Math.pow(2,.002*function(){Ur||(Ur=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var n,e=d3.event;try{Ur.scrollTop=1e3,Ur.dispatchEvent(e),n=1e3-Ur.scrollTop}catch(t){n=e.wheelDelta||5*-e.detail}return n}())*x),c(d3.mouse(this),s),l(M.of(this,arguments))}function r(){s=null}function i(){var t=d3.mouse(this),n=a(t);o(d3.event.shiftKey?x/2:2*x),c(t,n),l(M.of(this,arguments))}function u(){var t=d3.touches(this),n=Date.now();if(h=x,s={},t.forEach(function(t){s[t.identifier]=a(t)}),S(),1===t.length){if(n-m<500){var e=t[0],r=a(t[0]);o(2*x),c(e,r),l(M.of(this,arguments))}m=n}}function f(){var t=d3.touches(this),n=t[0],e=s[n.identifier];if(r=t[1]){var r,i=s[r.identifier];n=[(n[0]+r[0])/2,(n[1]+r[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],o(d3.event.scale*h)}c(n,e),m=null,l(M.of(this,arguments))}var s,h,d,g,p,v,m,y=[0,0],x=1,b=Vr,M=C(n,"zoom");return n.translate=function(t){return arguments.length?(y=t.map(Number),n):y},n.scale=function(t){return arguments.length?(x=+t,n):x},n.scaleExtent=function(t){return arguments.length?(b=null==t?Vr:t.map(Number),n):b},n.x=function(t){return arguments.length?(d=(g=t).copy(),n):g},n.y=function(t){return arguments.length?(p=(v=t).copy(),n):v},d3.rebind(n,M,"on")};var Ur,Vr=[0,1/0];d3.layout={},d3.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(fn(t[e]));return n}},d3.layout.chord=function(){function t(){var t,n,e,r,i,o={},u=[],a=d3.range(b),c=[];for(m=[],y=[],t=0,r=-1;++r<b;){for(n=0,i=-1;++i<b;)n+=x[r][i];u.push(n),c.push(d3.range(b)),t+=n}for(M&&a.sort(function(t,n){return M(u[t],u[n])}),_&&c.forEach(function(t,e){t.sort(function(t,n){return _(x[e][t],x[e][n])})}),t=(2*Math.PI-k*b)/t,n=0,r=-1;++r<b;){for(e=n,i=-1;++i<b;){var l=a[r],f=c[l][i],s=x[l][f],h=n,d=n+=s*t;o[l+"-"+f]={index:l,subindex:f,startAngle:h,endAngle:d,value:s}}y[l]={index:l,startAngle:e,endAngle:n,value:(n-e)/t},n+=k}for(r=-1;++r<b;)for(i=r-1;++i<b;){var g=o[r+"-"+i],p=o[i+"-"+r];(g.value||p.value)&&m.push(g.value<p.value?{source:p,target:g}:{source:g,target:p})}w&&v()}function v(){m.sort(function(t,n){return w((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var m,y,x,b,M,_,w,n={},k=0;return n.matrix=function(t){return arguments.length?(b=(x=t)&&x.length,m=y=null,n):x},n.padding=function(t){return arguments.length?(k=t,m=y=null,n):k},n.sortGroups=function(t){return arguments.length?(M=t,m=y=null,n):M},n.sortSubgroups=function(t){return arguments.length?(_=t,m=null,n):_},n.sortChords=function(t){return arguments.length?(w=t,m&&v(),n):w},n.chords=function(){return m||t(),m},n.groups=function(){return y||t(),y},n},d3.layout.force=function(){function s(l){return function(t,n,e,r,i){if(t.point!==l){var o=t.cx-l.x,u=t.cy-l.y,a=1/Math.sqrt(o*o+u*u);if((r-n)*a<f){var c=t.charge*a*a;return l.px-=o*c,l.py-=u*c,!0}if(t.point&&isFinite(a)){c=t.pointCharge*a*a;l.px-=o*c,l.py-=u*c}}return!t.charge}}function t(t){t.px=d3.event.x,t.py=d3.event.y,i.resume()}var n,h,d,g,p,i={},v=d3.dispatch("start","tick","end"),m=[1,1],y=.9,o=vn,x=mn,b=-30,M=.1,f=.8,_=[],w=[];return i.tick=function(){if((h*=.99)<.005)return v.end({type:"end",alpha:h=0}),!0;var t,n,e,r,i,o,u,a,c,l=_.length,f=w.length;for(n=0;n<f;++n)r=(e=w[n]).source,(o=(a=(i=e.target).x-r.x)*a+(c=i.y-r.y)*c)&&(a*=o=h*g[n]*((o=Math.sqrt(o))-d[n])/o,c*=o,i.x-=a*(u=r.weight/(i.weight+r.weight)),i.y-=c*u,r.x+=a*(u=1-u),r.y+=c*u);if((u=h*M)&&(a=m[0]/2,c=m[1]/2,n=-1,u))for(;++n<l;)(e=_[n]).x+=(a-e.x)*u,e.y+=(c-e.y)*u;if(b)for(!function t(n,e,r){var i=0,o=0;if(n.charge=0,!n.leaf)for(var u,a=n.nodes,c=a.length,l=-1;++l<c;)null!=(u=a[l])&&(t(u,e,r),n.charge+=u.charge,i+=u.charge*u.cx,o+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var f=e*r[n.point.index];n.charge+=n.pointCharge=f,i+=f*n.point.x,o+=f*n.point.y}n.cx=i/n.charge,n.cy=o/n.charge}(t=d3.geom.quadtree(_),h,p),n=-1;++n<l;)(e=_[n]).fixed||t.visit(s(e));for(n=-1;++n<l;)(e=_[n]).fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*y,e.y-=(e.py-(e.py=e.y))*y);v.tick({type:"tick",alpha:h})},i.nodes=function(t){return arguments.length?(_=t,i):_},i.links=function(t){return arguments.length?(w=t,i):w},i.size=function(t){return arguments.length?(m=t,i):m},i.linkDistance=function(t){return arguments.length?(o=k(t),i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(x=k(t),i):x},i.friction=function(t){return arguments.length?(y=t,i):y},i.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,i):b},i.gravity=function(t){return arguments.length?(M=t,i):M},i.theta=function(t){return arguments.length?(f=t,i):f},i.alpha=function(t){return arguments.length?(h?h=0<t?t:0:0<t&&(v.start({type:"start",alpha:h=t}),d3.timer(i.tick)),i):h},i.start=function(){function t(t,n){for(var e,r=function(){if(!c){for(c=[],a=0;a<l;++a)c[a]=[];for(a=0;a<f;++a){var t=w[a];c[t.source.index].push(t.target),c[t.target.index].push(t.source)}}return c[u]}(),i=-1,o=r.length;++i<o;)if(!isNaN(e=r[i][t]))return e;return Math.random()*n}var u,a,c,n,l=_.length,f=w.length,e=m[0],r=m[1];for(u=0;u<l;++u)(n=_[u]).index=u,n.weight=0;for(d=[],g=[],u=0;u<f;++u)"number"==typeof(n=w[u]).source&&(n.source=_[n.source]),"number"==typeof n.target&&(n.target=_[n.target]),d[u]=o.call(this,n,u),g[u]=x.call(this,n,u),++n.source.weight,++n.target.weight;for(u=0;u<l;++u)n=_[u],isNaN(n.x)&&(n.x=t("x",e)),isNaN(n.y)&&(n.y=t("y",r)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(p=[],"function"==typeof b)for(u=0;u<l;++u)p[u]=+b.call(this,_[u],u);else for(u=0;u<l;++u)p[u]=b;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){n||(n=d3.behavior.drag().origin(a).on("dragstart",hn).on("drag",t).on("dragend",dn)),this.on("mouseover.force",gn).on("mouseout.force",pn).call(n)},d3.rebind(i,v,"on")},d3.layout.partition=function(){function n(t,n){var e=r.call(this,t,n);return function t(n,e,r,i){var o=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,o&&(u=o.length)){var u,a,c,l=-1;for(r=n.value?r/n.value:0;++l<u;)t(a=o[l],e,c=a.value*r,i),e+=c}}(e[0],0,i[0],i[1]/function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(e[o]));return 1+r}(e[0])),e}var r=d3.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Tn(n,r)},d3.layout.pie=function(){function a(e,t){var r=e.map(function(t,n){return+c.call(a,t,n)}),i=+("function"==typeof f?f.apply(this,arguments):f),o=(("function"==typeof s?s.apply(this,arguments):s)-f)/d3.sum(r),n=d3.range(e.length);null!=l&&n.sort(l===Zr?function(t,n){return r[n]-r[t]}:function(t,n){return l(e[t],e[n])});var u=[];return n.forEach(function(t){var n;u[t]={data:e[t],value:n=r[t],startAngle:i,endAngle:i+=n*o}}),u}var c=Number,l=Zr,f=0,s=2*Math.PI;return a.value=function(t){return arguments.length?(c=t,a):c},a.sort=function(t){return arguments.length?(l=t,a):l},a.startAngle=function(t){return arguments.length?(f=t,a):f},a.endAngle=function(t){return arguments.length?(s=t,a):s},a};var Zr={};d3.layout.stack=function(){function s(t,n){var e=t.map(function(t,n){return h.call(s,t,n)}),r=e.map(function(t,n){return t.map(function(t,n){return[v.call(s,t,n),m.call(s,t,n)]})}),i=d.call(s,r,n);e=d3.permute(e,i),r=d3.permute(r,i);var o,u,a,c=g.call(s,r,n),l=e.length,f=e[0].length;for(u=0;u<f;++u)for(p.call(s,e[0][u],a=c[u],r[0][u][1]),o=1;o<l;++o)p.call(s,e[o][u],a+=r[o-1][u][1],r[o][u][1]);return t}var h=a,d=Mn,g=_n,p=bn,v=yn,m=xn;return s.values=function(t){return arguments.length?(h=t,s):h},s.order=function(t){return arguments.length?(d="function"==typeof t?t:Br.get(t)||Mn,s):d},s.offset=function(t){return arguments.length?(g="function"==typeof t?t:Xr.get(t)||_n,s):g},s.x=function(t){return arguments.length?(v=t,s):v},s.y=function(t){return arguments.length?(m=t,s):m},s.out=function(t){return arguments.length?(p=t,s):p},s};var Br=d3.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(wn),o=t.map(kn),u=d3.range(r).sort(function(t,n){return i[t]-i[n]}),a=0,c=0,l=[],f=[];for(n=0;n<r;++n)e=u[n],a<c?(a+=o[e],l.push(e)):(c+=o[e],f.push(e));return f.reverse().concat(l)},reverse:function(t){return d3.range(t.length).reverse()},default:Mn}),Xr=d3.map({silhouette:function(t){var n,e,r,i=t.length,o=t[0].length,u=[],a=0,c=[];for(e=0;e<o;++e){for(r=n=0;n<i;n++)r+=t[n][e][1];a<r&&(a=r),u.push(r)}for(e=0;e<o;++e)c[e]=(a-u[e])/2;return c},wiggle:function(t){var n,e,r,i,o,u,a,c,l,f=t.length,s=t[0],h=s.length,d=[];for(d[0]=c=l=0,e=1;e<h;++e){for(i=n=0;n<f;++n)i+=t[n][e][1];for(o=n=0,a=s[e][0]-s[e-1][0];n<f;++n){for(r=0,u=(t[n][e][1]-t[n][e-1][1])/(2*a);r<n;++r)u+=(t[r][e][1]-t[r][e-1][1])/a;o+=u*t[n][e][1]}d[e]=c-=i?o/i*a:0,c<l&&(l=c)}for(e=0;e<h;++e)d[e]-=l;return d},expand:function(t){var n,e,r,i=t.length,o=t[0].length,u=1/i,a=[];for(e=0;e<o;++e){for(r=n=0;n<i;n++)r+=t[n][e][1];if(r)for(n=0;n<i;n++)t[n][e][1]/=r;else for(n=0;n<i;n++)t[n][e][1]=u}for(e=0;e<o;++e)a[e]=0;return a},zero:_n});d3.layout.histogram=function(){function e(t,n){for(var e,r,i=[],o=t.map(h,this),u=d.call(this,o,n),a=g.call(this,u,o,n),c=(n=-1,o.length),l=a.length-1,f=s?1:1/c;++n<l;)(e=i[n]=[]).dx=a[n+1]-(e.x=a[n]),e.y=0;if(0<l)for(n=-1;++n<c;)(r=o[n])>=u[0]&&r<=u[1]&&((e=i[d3.bisect(a,r,1,l)-1]).y+=f,e.push(t[n]));return i}var s=!0,h=Number,d=Cn,g=An;return e.value=function(t){return arguments.length?(h=t,e):h},e.range=function(t){return arguments.length?(d=k(t),e):d},e.bins=function(n){return arguments.length?(g="number"==typeof n?function(t){return Sn(t,n)}:k(n),e):g},e.frequency=function(t){return arguments.length?(s=!!t,e):s},e};var $r=!(d3.layout.hierarchy=function(){function h(t){var n=[];return function t(n,e,r){var i=g.call(h,n,e),o=$r?n:{data:n};if(o.depth=e,r.push(o),i&&(u=i.length)){for(var u,a,c=-1,l=o.children=[],f=0,s=e+1;++c<u;)(a=t(i[c],s,r)).parent=o,l.push(a),f+=a.value;d&&l.sort(d),p&&(o.value=f)}else p&&(o.value=+p.call(h,n,e)||0);return o}(t,0,n),n}var d=En,g=qn,p=zn;return h.sort=function(t){return arguments.length?(d=t,h):d},h.children=function(t){return arguments.length?(g=t,h):g},h.value=function(t){return arguments.length?(p=t,h):p},h.revalue=function(t){return function t(n,e){var r=n.children,i=0;if(r&&(o=r.length))for(var o,u=-1,a=e+1;++u<o;)i+=t(r[u],a);else p&&(i=+p.call(h,$r?n:n.data,e)||0);return p&&(n.value=i),i}(t,0),t},h});d3.layout.pack=function(){function n(t,n){var e=c.call(this,t,n),r=e[0];r.x=0,r.y=0,Gn(r,function(t){t.r=Math.sqrt(t.value)}),Gn(r,Hn);var i=f[0],o=f[1],u=Math.max(2*r.r/i,2*r.r/o);if(0<l){var a=l*u/2;Gn(r,function(t){t.r+=a}),Gn(r,Hn),Gn(r,function(t){t.r-=a}),u=Math.max(2*r.r/i,2*r.r/o)}return function t(n,e,r,i){var o=n.children;if(n.x=e+=i*n.x,n.y=r+=i*n.y,n.r*=i,o)for(var u=-1,a=o.length;++u<a;)t(o[u],e,r,i)}(r,i/2,o/2,1/u),e}var c=d3.layout.hierarchy().sort(Pn),l=0,f=[1,1];return n.size=function(t){return arguments.length?(f=t,n):f},n.padding=function(t){return arguments.length?(l=+t,n):l},Tn(n,c)},d3.layout.cluster=function(){function n(t,n){var i,e=f.call(this,t,n),r=e[0],o=0;Gn(r,function(t){var n,e,r=t.children;r&&r.length?(t.x=(e=r).reduce(function(t,n){return t+n.x},0)/e.length,t.y=(n=r,1+d3.max(n,function(t){return t.y}))):(t.x=i?o+=s(t,i):0,t.y=0,i=t)});var u=function t(n){var e=n.children;return e&&e.length?t(e[0]):n}(r),a=function t(n){var e,r=n.children;return r&&(e=r.length)?t(r[e-1]):n}(r),c=u.x-s(u,a)/2,l=a.x+s(a,u)/2;return Gn(r,function(t){t.x=(t.x-c)/(l-c)*h[0],t.y=(1-(r.y?t.y/r.y:1))*h[1]}),e}var f=d3.layout.hierarchy().sort(null).value(null),s=Yn,h=[1,1];return n.separation=function(t){return arguments.length?(s=t,n):s},n.size=function(t){return arguments.length?(h=t,n):h},Tn(n,f)},d3.layout.tree=function(){function n(t,n){function h(t,n,e){if(n){for(var r,i=t,o=t,u=n,a=t.parent.children[0],c=i._tree.mod,l=o._tree.mod,f=u._tree.mod,s=a._tree.mod;u=Vn(u),i=Un(i),u&&i;)a=Un(a),(o=Vn(o))._tree.ancestor=t,0<(r=u._tree.prelim+f-i._tree.prelim-c+p(u,i))&&(Kn((d=t,g=e,(h=u)._tree.ancestor.parent==d.parent?h._tree.ancestor:g),t,r),c+=r,l+=r),f+=u._tree.mod,c+=i._tree.mod,s+=a._tree.mod,l+=o._tree.mod;u&&!Vn(o)&&(o._tree.thread=u,o._tree.mod+=f-l),i&&!Un(a)&&(a._tree.thread=i,a._tree.mod+=c-s,e=t)}var h,d,g;return e}var e=f.call(this,t,n),r=e[0];Gn(r,function(t,n){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:n?n._tree.number+1:0}}),function t(n,e){var r=n.children,i=n._tree;if(r&&(o=r.length)){for(var o,u,a,c=r[0],l=c,f=-1;++f<o;)t(a=r[f],u),l=h(a,u,l),u=a;!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;0<=--o;)(n=i[o]._tree).prelim+=e,n.mod+=e,e+=n.shift+(r+=n.change)}(n);var s=.5*(c._tree.prelim+a._tree.prelim);e?(i.prelim=e._tree.prelim+p(n,e),i.mod=i.prelim-s):i.prelim=s}else e&&(i.prelim=e._tree.prelim+p(n,e))}(r),function t(n,e){n.x=n._tree.prelim+e;var r=n.children;if(r&&(i=r.length)){var i,o=-1;for(e+=n._tree.mod;++o<i;)t(r[o],e)}}(r,-r._tree.prelim);var i=Zn(r,Xn),o=Zn(r,Bn),u=Zn(r,$n),a=i.x-p(i,o)/2,c=o.x+p(o,i)/2,l=u.depth||1;return Gn(r,function(t){t.x=(t.x-a)/(c-a)*s[0],t.y=t.depth/l*s[1],delete t._tree}),e}var f=d3.layout.hierarchy().sort(null).value(null),p=Yn,s=[1,1];return n.separation=function(t){return arguments.length?(p=t,n):p},n.size=function(t){return arguments.length?(s=t,n):s},Tn(n,f)},d3.layout.treemap=function(){function f(t,n){for(var e,r,i=-1,o=t.length;++i<o;)r=(e=t[i]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function s(t){var n=t.children;if(n&&n.length){var e,r,i,o=p(t),u=[],a=n.slice(),c=1/0,l=Math.min(o.dx,o.dy);for(f(a,o.dx*o.dy/t.value),u.area=0;0<(i=a.length);)u.push(e=a[i-1]),u.area+=e.area,c=(r=h(u,l))<=c?(a.pop(),r):(u.area-=u.pop().area,d(u,l,o,!1),l=Math.min(o.dx,o.dy),u.length=u.area=0,1/0);u.length&&(d(u,l,o,!0),u.length=u.area=0),n.forEach(s)}}function u(t){var n=t.children;if(n&&n.length){var e,r=p(t),i=n.slice(),o=[];for(f(i,r.dx*r.dy/t.value),o.area=0;e=i.pop();)o.push(e),o.area+=e.area,null!=e.z&&(d(o,e.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);n.forEach(u)}}function h(t,n){for(var e,r=t.area,i=0,o=1/0,u=-1,a=t.length;++u<a;)(e=t[u].area)&&(e<o&&(o=e),i<e&&(i=e));return n*=n,(r*=r)?Math.max(n*i*v/r,r/(n*o*v)):1/0}function d(t,n,e,r){var i,o=-1,u=t.length,a=e.x,c=e.y,l=n?g(t.area/n):0;if(n==e.dx){for((r||l>e.dy)&&(l=e.dy);++o<u;)(i=t[o]).x=a,i.y=c,i.dy=l,a+=i.dx=Math.min(e.x+e.dx-a,l?g(i.area/l):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=l,e.dy-=l}else{for((r||l>e.dx)&&(l=e.dx);++o<u;)(i=t[o]).x=a,i.y=c,i.dx=l,c+=i.dy=Math.min(e.y+e.dy-c,l?g(i.area/l):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=l,e.dx-=l}}function r(t){var n=i||o(t),e=n[0];return e.x=0,e.y=0,e.dx=a[0],e.dy=a[1],i&&o.revalue(e),f([e],e.dx*e.dy/e.value),(i?u:s)(e),l&&(i=n),n}var i,o=d3.layout.hierarchy(),g=Math.round,a=[1,1],c=null,p=Jn,l=!1,v=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(a=t,r):a},r.padding=function(e){function t(t){return Qn(t,e)}return arguments.length?(p=null==(c=e)?Jn:"function"==(n=typeof e)?function(t){var n=e.call(r,t,t.depth);return null==n?Jn(t):Qn(t,"number"==typeof n?[n,n,n,n]:n)}:("number"===n&&(e=[e,e,e,e]),t),r):c;var n},r.round=function(t){return arguments.length?(g=t?Math.round:Number,r):g!=Number},r.sticky=function(t){return arguments.length?(l=t,i=null,r):l},r.ratio=function(t){return arguments.length?(v=t,r):v},Tn(r,o)},d3.csv=Wn(",","text/csv"),d3.tsv=Wn("\t","text/tab-separated-values"),d3.geo={};var Gr=Math.PI/180;d3.geo.azimuthal=function(){function n(t){var n,e=t[0]*Gr-s,r=t[1]*Gr,i=Math.cos(e),o=Math.sin(e),u=Math.cos(r),a=Math.sin(r),c="orthographic"!==g?d*a+h*u*i:null,l="stereographic"===g?1/(1+c):"gnomonic"===g?1/c:"equidistant"===g?(n=Math.acos(c))?n/Math.sin(n):0:"equalarea"===g?Math.sqrt(2/(1+c)):1,f=l*(d*u*i-h*a);return[p*(l*u*o)+v[0],p*f+v[1]]}var e,s,r,h,d,g="orthographic",p=200,v=[480,250];return n.invert=function(t){var n=(t[0]-v[0])/p,e=(t[1]-v[1])/p,r=Math.sqrt(n*n+e*e),i="stereographic"===g?2*Math.atan(r):"gnomonic"===g?Math.atan(r):"equidistant"===g?r:"equalarea"===g?2*Math.asin(.5*r):Math.asin(r),o=Math.sin(i),u=Math.cos(i);return[(s+Math.atan2(n*o,r*h*u+e*d*o))/Gr,Math.asin(u*d-(r?e*o*h/r:0))/Gr]},n.mode=function(t){return arguments.length?(g=t+"",n):g},n.origin=function(t){return arguments.length?(s=(e=t)[0]*Gr,r=e[1]*Gr,h=Math.cos(r),d=Math.sin(r),n):e},n.scale=function(t){return arguments.length?(p=+t,n):p},n.translate=function(t){return arguments.length?(v=[+t[0],+t[1]],n):v},n.origin([0,0])},d3.geo.albers=function(){function o(t){var n=a*(Gr*t[0]-u),e=Math.sqrt(c-2*a*Math.sin(Gr*t[1]))/a;return[h*e*Math.sin(n)+d[0],h*(e*Math.cos(n)-l)+d[1]]}function n(){var t=Gr*s[0],n=Gr*s[1],e=Gr*f[1],r=Math.sin(t),i=Math.cos(t);return u=Gr*f[0],a=.5*(r+Math.sin(n)),c=i*i+2*a*r,l=Math.sqrt(c-2*a*Math.sin(e))/a,o}var u,a,c,l,f=[-98,38],s=[29.5,45.5],h=1e3,d=[480,250];return o.invert=function(t){var n=(t[0]-d[0])/h,e=(t[1]-d[1])/h,r=l+e,i=Math.atan2(n,r),o=Math.sqrt(n*n+r*r);return[(u+i/a)/Gr,Math.asin((c-o*o*a*a)/(2*a))/Gr]},o.origin=function(t){return arguments.length?(f=[+t[0],+t[1]],n()):f},o.parallels=function(t){return arguments.length?(s=[+t[0],+t[1]],n()):s},o.scale=function(t){return arguments.length?(h=+t,o):h},o.translate=function(t){return arguments.length?(d=[+t[0],+t[1]],o):d},n()},d3.geo.albersUsa=function(){function i(t){var n=t[0],e=t[1];return(50<e?u:n<-140?a:e<21?c:o)(t)}var o=d3.geo.albers(),u=d3.geo.albers().origin([-160,60]).parallels([55,65]),a=d3.geo.albers().origin([-160,20]).parallels([8,18]),c=d3.geo.albers().origin([-60,10]).parallels([8,18]);return i.scale=function(t){return arguments.length?(o.scale(t),u.scale(.6*t),a.scale(t),c.scale(1.5*t),i.translate(o.translate())):o.scale()},i.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale()/1e3,e=t[0],r=t[1];return o.translate(t),u.translate([e-400*n,r+170*n]),a.translate([e-190*n,r+200*n]),c.translate([e+580*n,r+430*n]),i},i.scale(o.scale())},d3.geo.bonne=function(){function n(t){var n=t[0]*Gr-o,e=t[1]*Gr-u;if(a){var r=c+a-e,i=n*Math.cos(e)/r;n=r*Math.sin(i),e=r*Math.cos(i)-c}else n*=Math.cos(e),e*=-1;return[l*n+f[0],l*e+f[1]]}var o,u,a,c,l=200,f=[480,250];return n.invert=function(t){var n=(t[0]-f[0])/l,e=(t[1]-f[1])/l;if(a){var r=c+e,i=Math.sqrt(n*n+r*r);e=c+a-i,n=o+i*Math.atan2(n,r)/Math.cos(e)}else e*=-1,n/=Math.cos(e);return[n/Gr,e/Gr]},n.parallel=function(t){return arguments.length?(c=1/Math.tan(a=t*Gr),n):a/Gr},n.origin=function(t){return arguments.length?(o=t[0]*Gr,u=t[1]*Gr,n):[o/Gr,u/Gr]},n.scale=function(t){return arguments.length?(l=+t,n):l},n.translate=function(t){return arguments.length?(f=[+t[0],+t[1]],n):f},n.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function n(t){var n=t[0]/360,e=-t[1]/360;return[r*n+i[0],r*e+i[1]]}var r=500,i=[480,250];return n.invert=function(t){return[360*((t[0]-i[0])/r),-360*((t[1]-i[1])/r)]},n.scale=function(t){return arguments.length?(r=+t,n):r},n.translate=function(t){return arguments.length?(i=[+t[0],+t[1]],n):i},n},d3.geo.mercator=function(){function n(t){var n=t[0]/360,e=-Math.log(Math.tan(Math.PI/4+t[1]*Gr/2))/Gr/360;return[r*n+i[0],r*Math.max(-.5,Math.min(.5,e))+i[1]]}var r=500,i=[480,250];return n.invert=function(t){var n=(t[0]-i[0])/r,e=(t[1]-i[1])/r;return[360*n,2*Math.atan(Math.exp(-360*e*Gr))/Gr-90]},n.scale=function(t){return arguments.length?(r=+t,n):r},n.translate=function(t){return arguments.length?(i=[+t[0],+t[1]],n):i},n},d3.geo.path=function(){function n(t,n){"function"==typeof r&&(u=ne(r.apply(this,arguments))),a(t);var e=s.length?s.join(""):null;return s=[],e}function f(t){return l(t).join(",")}function o(t){for(var n=i(t[0]),e=0,r=t.length;++e<r;)n-=i(t[e]);return n}function c(t){for(var n=d3.geom.polygon(t[0].map(l)),e=n.area(),r=n.centroid(e<0?(e*=-1,1):-1),i=r[0],o=r[1],u=e,a=0,c=t.length;++a<c;)e=(n=d3.geom.polygon(t[a].map(l))).area(),i-=(r=n.centroid(e<0?(e*=-1,1):-1))[0],o-=r[1],u-=e;return[i,o,6*u]}function i(t){return Math.abs(d3.geom.polygon(t.map(l)).area())}var r=4.5,u=ne(r),l=d3.geo.albersUsa(),s=[],a=te({FeatureCollection:function(t){for(var n=t.features,e=-1,r=n.length;++e<r;)s.push(a(n[e].geometry))},Feature:function(t){a(t.geometry)},Point:function(t){s.push("M",f(t.coordinates),u)},MultiPoint:function(t){for(var n=t.coordinates,e=-1,r=n.length;++e<r;)s.push("M",f(n[e]),u)},LineString:function(t){var n=t.coordinates,e=-1,r=n.length;for(s.push("M");++e<r;)s.push(f(n[e]),"L");s.pop()},MultiLineString:function(t){for(var n,e,r,i=t.coordinates,o=-1,u=i.length;++o<u;){for(e=-1,r=(n=i[o]).length,s.push("M");++e<r;)s.push(f(n[e]),"L");s.pop()}},Polygon:function(t){for(var n,e,r,i=t.coordinates,o=-1,u=i.length;++o<u;)if(e=-1,0<(r=(n=i[o]).length-1)){for(s.push("M");++e<r;)s.push(f(n[e]),"L");s[s.length-1]="Z"}},MultiPolygon:function(t){for(var n,e,r,i,o,u,a=t.coordinates,c=-1,l=a.length;++c<l;)for(e=-1,r=(n=a[c]).length;++e<r;)if(o=-1,0<(u=(i=n[e]).length-1)){for(s.push("M");++o<u;)s.push(f(i[o]),"L");s[s.length-1]="Z"}},GeometryCollection:function(t){for(var n=t.geometries,e=-1,r=n.length;++e<r;)s.push(a(n[e]))}}),h=n.area=te({FeatureCollection:function(t){for(var n=0,e=t.features,r=-1,i=e.length;++r<i;)n+=h(e[r]);return n},Feature:function(t){return h(t.geometry)},Polygon:function(t){return o(t.coordinates)},MultiPolygon:function(t){for(var n=0,e=t.coordinates,r=-1,i=e.length;++r<i;)n+=o(e[r]);return n},GeometryCollection:function(t){for(var n=0,e=t.geometries,r=-1,i=e.length;++r<i;)n+=h(e[r]);return n}},0),e=n.centroid=te({Feature:function(t){return e(t.geometry)},Polygon:function(t){var n=c(t.coordinates);return[n[0]/n[2],n[1]/n[2]]},MultiPolygon:function(t){for(var n,e=t.coordinates,r=0,i=0,o=0,u=-1,a=e.length;++u<a;)r+=(n=c(e[u]))[0],i+=n[1],o+=n[2];return[r/o,i/o]}});return n.projection=function(t){return l=t,n},n.pointRadius=function(t){return"function"==typeof t?r=t:u=ne(r=+t),n},n},d3.geo.bounds=function(t){var e=1/0,r=1/0,i=-1/0,o=-1/0;return ee(t,function(t,n){t<e&&(e=t),i<t&&(i=t),n<r&&(r=n),o<n&&(o=n)}),[[e,r],[i,o]]};var Kr={Feature:function(t,n){ee(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=0,i=e.length;r<i;r++)ee(e[r].geometry,n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=0,i=e.length;r<i;r++)ee(e[r],n)},LineString:re,MultiLineString:function(t,n){for(var e=t.coordinates,r=0,i=e.length;r<i;r++)for(var o=e[r],u=0,a=o.length;u<a;u++)n.apply(null,o[u])},MultiPoint:re,MultiPolygon:function(t,n){for(var e=t.coordinates,r=0,i=e.length;r<i;r++)for(var o=e[r][0],u=0,a=o.length;u<a;u++)n.apply(null,o[u])},Point:function(t,n){n.apply(null,t.coordinates)},Polygon:function(t,n){for(var e=t.coordinates[0],r=0,i=e.length;r<i;r++)n.apply(null,e[r])}};d3.geo.circle=function(){function n(){}function e(t){return f.distance(t)<l}function r(t){for(var n,e,r,i,o,u=-1,a=t.length,c=[];++u<a;)(o=f.distance(r=t[u]))<l?(e&&c.push(ae(e,r)((i-l)/(i-o))),c.push(r),n=e=null):(e=r,!n&&c.length&&(c.push(ae(c[c.length-1],e)((l-i)/(o-i))),n=e)),i=o;return n=t[0],!(e=c[0])||r[0]!==n[0]||r[1]!==n[1]||r[0]===e[0]&&r[1]===e[1]||c.push(e),function(t){var n,e,r,i=0,o=t.length,u=o?[t[0]]:t,a=f.source();for(;++i<o;)for(r=f.source(t[i-1])(t[i]).coordinates,n=0,e=r.length;++n<e;)u.push(r[n]);return f.source(a),u}(c)}var i=[0,0],o=89.99,l=o*Gr,f=d3.geo.greatArc().source(i).target(a);n.clip=function(t){return"function"==typeof i&&f.source(i.apply(this,arguments)),u(t)||null};var u=te({FeatureCollection:function(t){var n=t.features.map(u).filter(a);return n&&((t=Object.create(t)).features=n,t)},Feature:function(t){var n=u(t.geometry);return n&&((t=Object.create(t)).geometry=n,t)},Point:function(t){return e(t.coordinates)&&t},MultiPoint:function(t){var n=t.coordinates.filter(e);return n.length&&{type:t.type,coordinates:n}},LineString:function(t){var n=r(t.coordinates);return n.length&&((t=Object.create(t)).coordinates=n,t)},MultiLineString:function(t){var n=t.coordinates.map(r).filter(function(t){return t.length});return n.length&&((t=Object.create(t)).coordinates=n,t)},Polygon:function(t){var n=t.coordinates.map(r);return n[0].length&&((t=Object.create(t)).coordinates=n,t)},MultiPolygon:function(t){var n=t.coordinates.map(function(t){return t.map(r)}).filter(function(t){return t[0].length});return n.length&&((t=Object.create(t)).coordinates=n,t)},GeometryCollection:function(t){var n=t.geometries.map(u).filter(a);return n.length&&((t=Object.create(t)).geometries=n,t)}});return n.origin=function(t){return arguments.length?("function"!=typeof(i=t)&&f.source(i),n):i},n.angle=function(t){return arguments.length?(l=(o=+t)*Gr,n):o},d3.rebind(n,f,"precision")},d3.geo.greatArc=function(){function i(){for(var t=i.distance.apply(this,arguments),n=0,e=a/t,r=[o];(n+=e)<1;)r.push(c(n));return r.push(u),{type:"LineString",coordinates:r}}var o,u,n=ie,e=oe,a=6*Gr,c=ue();return i.distance=function(){return"function"==typeof n&&c.source(o=n.apply(this,arguments)),"function"==typeof e&&c.target(u=e.apply(this,arguments)),c.distance()},i.source=function(t){return arguments.length?("function"!=typeof(n=t)&&c.source(o=n),i):n},i.target=function(t){return arguments.length?("function"!=typeof(e=t)&&c.target(u=e),i):e},i.precision=function(t){return arguments.length?(a=t*Gr,i):a/Gr},i},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(t,n){for(var e=n||function(t){for(var n=0,e=0;;){if(t(n,e))return[n,e];0===n?(n=e+1,e=0):(n-=1,e+=1)}}(t),r=[],i=e[0],o=e[1],u=0,a=0,c=NaN,l=NaN,f=0;f=0,t(i-1,o-1)&&(f+=1),t(i,o-1)&&(f+=2),t(i-1,o)&&(f+=4),t(i,o)&&(f+=8),a=6===f?(u=-1===l?-1:1,0):9===f?(u=0,1===c?-1:1):(u=Jr[f],Qr[f]),u!=c&&a!=l&&(r.push([i,o]),c=u,l=a),i+=u,o+=a,e[0]!=i||e[1]!=o;);return r};var Jr=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],Qr=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(t){if(t.length<3)return[];var n,e,r,i,o,u,a,c,l,f,s,h,d,g,p,v,m,y,x,b,M=t.length,_=M-1,w=[],k=[],N=0;for(n=1;n<M;++n)t[n][1]<t[N][1]?N=n:t[n][1]==t[N][1]&&(N=t[n][0]<t[N][0]?n:N);for(n=0;n<M;++n)n!==N&&(i=t[n][1]-t[N][1],r=t[n][0]-t[N][0],w.push({angle:Math.atan2(i,r),index:n}));for(w.sort(function(t,n){return t.angle-n.angle}),l=w[0].angle,c=w[0].index,a=0,n=1;n<_;++n)e=w[n].index,l==w[n].angle?(r=t[c][0]-t[N][0],i=t[c][1]-t[N][1],(o=t[e][0]-t[N][0])*o+(u=t[e][1]-t[N][1])*u<=r*r+i*i?w[n].index=-1:(w[a].index=-1,l=w[n].angle,a=n,c=e)):(l=w[n].angle,a=n,c=e);for(k.push(N),e=n=0;n<2;++e)-1!==w[e].index&&(k.push(w[e].index),n++);for(f=k.length;e<_;++e)if(-1!==w[e].index){for(;s=k[f-2],h=k[f-1],d=w[e].index,b=x=y=m=v=p=void 0,v=(p=(g=t)[s])[0],m=p[1],y=(p=g[h])[0],x=p[1],b=(p=g[d])[0],!(0<(p[1]-m)*(y-v)-(x-m)*(b-v));)--f;k[f++]=w[e].index}var A=[];for(n=0;n<f;++n)A.push(t[k[n]]);return A},d3.geom.polygon=function(f){return f.area=function(){for(var t=0,n=f.length,e=f[n-1][0]*f[0][1],r=f[n-1][1]*f[0][0];++t<n;)e+=f[t-1][0]*f[t][1],r+=f[t-1][1]*f[t][0];return.5*(r-e)},f.centroid=function(t){var n,e,r=-1,i=f.length,o=0,u=0,a=f[i-1];for(arguments.length||(t=-1/(6*f.area()));++r<i;)n=a,a=f[r],e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[o*t,u*t]},f.clip=function(t){for(var n,e,r,i,o,u,a=-1,c=f.length,l=f[c-1];++a<c;){for(n=t.slice(),t.length=0,i=f[a],o=n[(r=n.length)-1],e=-1;++e<r;)ce(u=n[e],l,i)?(ce(o,l,i)||t.push(le(o,u,l,i)),t.push(u)):ce(o,l,i)&&t.push(le(o,u,l,i)),o=u;l=i}return t},f},d3.geom.voronoi=function(i){var l=i.map(function(){return[]});return fe(i,function(t){var n,e,r,i,o,u;e=1===t.a&&0<=t.b?(n=t.ep.r,t.ep.l):(n=t.ep.l,t.ep.r),1===t.a?(o=n?n.y:-1e6,r=t.c-t.b*o,u=e?e.y:1e6,i=t.c-t.b*u):(r=n?n.x:-1e6,o=t.c-t.a*r,i=e?e.x:1e6,u=t.c-t.a*i);var a=[r,o],c=[i,u];l[t.region.l.index].push(a,c),l[t.region.r.index].push(a,c)}),l.map(function(e,t){var n=i[t][0],r=i[t][1];return e.forEach(function(t){t.angle=Math.atan2(t[0]-n,t[1]-r)}),e.sort(function(t,n){return t.angle-n.angle}).filter(function(t,n){return!n||1e-10<t.angle-e[n-1].angle})})};var Wr={l:"r",r:"l"};d3.geom.delaunay=function(a){var n=a.map(function(){return[]}),c=[];return fe(a,function(t){n[t.region.l.index].push(a[t.region.r.index])}),n.forEach(function(t,n){var e=a[n],r=e[0],i=e[1];t.forEach(function(t){t.angle=Math.atan2(t[0]-r,t[1]-i)}),t.sort(function(t,n){return t.angle-n.angle});for(var o=0,u=t.length-1;o<u;o++)c.push([e,t[o],t[o+1]])}),c},d3.geom.quadtree=function(t,n,e,r,i){function s(t,n,e,r,i,o){if(!isNaN(n.x)&&!isNaN(n.y))if(t.leaf){var u=t.point;u?(Math.abs(u.x-n.x)+Math.abs(u.y-n.y)<.01||(t.point=null,a(t,u,e,r,i,o)),a(t,n,e,r,i,o)):t.point=n}else a(t,n,e,r,i,o)}function a(t,n,e,r,i,o){var u=.5*(e+i),a=.5*(r+o),c=n.x>=u,l=n.y>=a,f=(l<<1)+c;t.leaf=!1,c?e=u:i=u,l?r=a:o=a,s(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null}),n,e,r,i,o)}var o,u=-1,c=t.length;if(c&&isNaN(t[0].x)&&(t=t.map(se)),arguments.length<5)if(3===arguments.length)i=r=e,e=n;else{for(n=e=1/0,r=i=-1/0;++u<c;)(o=t[u]).x<n&&(n=o.x),o.y<e&&(e=o.y),o.x>r&&(r=o.x),o.y>i&&(i=o.y);var l=r-n,f=i-e;f<l?i=e+l:r=n+f}var h={leaf:!0,nodes:[],point:null,add:function(t){s(h,t,n,e,r,i)}};return h.visit=function(t){!function t(n,e,r,i,o,u){if(!n(e,r,i,o,u)){var a=.5*(r+o),c=.5*(i+u),l=e.nodes;l[0]&&t(n,l[0],r,i,a,c),l[1]&&t(n,l[1],a,i,o,c),l[2]&&t(n,l[2],r,c,a,u),l[3]&&t(n,l[3],a,c,o,u)}}(t,h,n,e,r,i)},t.forEach(h.add),h},d3.time={};var ti=Date,ni=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];he.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ei.setUTCDate.apply(this._,arguments)},setDay:function(){ei.setUTCDay.apply(this._,arguments)},setFullYear:function(){ei.setUTCFullYear.apply(this._,arguments)},setHours:function(){ei.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ei.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ei.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ei.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ei.setUTCSeconds.apply(this._,arguments)},setTime:function(){ei.setTime.apply(this._,arguments)}};var ei=Date.prototype,ri=ni,ii=ri.map(de),oi=["January","February","March","April","May","June","July","August","September","October","November","December"],ui=oi.map(de);d3.time.format=function(u){function t(t){for(var n,e,r=[],i=-1,o=0;++i<a;)37==u.charCodeAt(i)&&(r.push(u.substring(o,i),(e=mi[n=u.charAt(++i)])?e(t):n),o=i+1);return r.push(u.substring(o,i)),r.join("")}var a=u.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(ge(n,u,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var e=new ti;return e.setFullYear(n.y,n.m,n.d),e.setHours(n.H,n.M,n.S,n.L),e},t.toString=function(){return u},t};var ai=d3.format("02d"),ci=d3.format("03d"),li=d3.format("04d"),fi=d3.format("2d"),si=pe(ri),hi=pe(ii),di=pe(oi),gi=ve(oi),pi=pe(ui),vi=ve(ui),mi={a:function(t){return ii[t.getDay()]},A:function(t){return ri[t.getDay()]},b:function(t){return ui[t.getMonth()]},B:function(t){return oi[t.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(t){return ai(t.getDate())},e:function(t){return fi(t.getDate())},H:function(t){return ai(t.getHours())},I:function(t){return ai(t.getHours()%12||12)},j:function(t){return ci(1+d3.time.dayOfYear(t))},L:function(t){return ci(t.getMilliseconds())},m:function(t){return ai(t.getMonth()+1)},M:function(t){return ai(t.getMinutes())},p:function(t){return 12<=t.getHours()?"PM":"AM"},S:function(t){return ai(t.getSeconds())},U:function(t){return ai(d3.time.sundayOfYear(t))},w:function(t){return t.getDay()},W:function(t){return ai(d3.time.mondayOfYear(t))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(t){return ai(t.getFullYear()%100)},Y:function(t){return li(t.getFullYear()%1e4)},Z:function(t){var n=t.getTimezoneOffset(),e=0<n?"-":"+",r=~~(Math.abs(n)/60),i=Math.abs(n)%60;return e+ai(r)+ai(i)},"%":function(t){return"%"}},yi={a:function(t,n,e){hi.lastIndex=0;var r=hi.exec(n.substring(e));return r?e+=r[0].length:-1},A:function(t,n,e){si.lastIndex=0;var r=si.exec(n.substring(e));return r?e+=r[0].length:-1},b:function(t,n,e){pi.lastIndex=0;var r=pi.exec(n.substring(e));return r?(t.m=vi.get(r[0].toLowerCase()),e+=r[0].length):-1},B:function(t,n,e){di.lastIndex=0;var r=di.exec(n.substring(e));return r?(t.m=gi.get(r[0].toLowerCase()),e+=r[0].length):-1},c:function(t,n,e){return ge(t,mi.c.toString(),n,e)},d:me,e:me,H:ye,I:ye,L:function(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+3));return r?(t.L=+r[0],e+=r[0].length):-1},m:function(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+2));return r?(t.m=r[0]-1,e+=r[0].length):-1},M:function(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+2));return r?(t.M=+r[0],e+=r[0].length):-1},p:function(t,n,e){var r=bi.get(n.substring(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)},S:function(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+2));return r?(t.S=+r[0],e+=r[0].length):-1},x:function(t,n,e){return ge(t,mi.x.toString(),n,e)},X:function(t,n,e){return ge(t,mi.X.toString(),n,e)},y:function(t,n,e){xi.lastIndex=0;var r,i=xi.exec(n.substring(e,e+2));return i?(t.y=(r=+i[0])+(68<r?1900:2e3),e+=i[0].length):-1},Y:function(t,n,e){xi.lastIndex=0;var r=xi.exec(n.substring(e,e+4));return r?(t.y=+r[0],e+=r[0].length):-1}},xi=/^\s*\d+/,bi=d3.map({am:0,pm:1});d3.time.format.utc=function(t){function n(t){try{var n=new(ti=he);return n._=t,e(n)}finally{ti=Date}}var e=d3.time.format(t);return n.parse=function(t){try{ti=he;var n=e.parse(t);return n&&n._}finally{ti=Date}},n.toString=e.toString,n};var Mi=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?xe:Mi,xe.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},xe.toString=Mi.toString,d3.time.second=be(function(t){return new ti(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=be(function(t){return new ti(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=be(function(t){var n=t.getTimezoneOffset()/60;return new ti(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=be(function(t){var n=new ti(1970,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(t){var n=d3.time.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},ni.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=d3.time[t]=be(function(t){return(t=d3.time.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var n=d3.time.year(t).getDay();return Math.floor((d3.time.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});d3.time[t+"s"]=n.range,d3.time[t+"s"].utc=n.utc.range,d3.time[t+"OfYear"]=function(t){var n=d3.time.year(t).getDay();return Math.floor((d3.time.dayOfYear(t)+(n+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=be(function(t){return(t=d3.time.day(t)).setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=be(function(t){return(t=d3.time.day(t)).setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var _i=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],wi=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ki=[[d3.time.format("%Y"),function(t){return!0}],[d3.time.format("%B"),function(t){return t.getMonth()}],[d3.time.format("%b %d"),function(t){return 1!=t.getDate()}],[d3.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[d3.time.format("%I %p"),function(t){return t.getHours()}],[d3.time.format("%I:%M"),function(t){return t.getMinutes()}],[d3.time.format(":%S"),function(t){return t.getSeconds()}],[d3.time.format(".%L"),function(t){return t.getMilliseconds()}]],Ni=d3.scale.linear(),Ai=ke(ki);wi.year=function(t,n){return Ni.domain(t.map(Ae)).ticks(n).map(Ne)},d3.time.scale=function(){return _e(d3.scale.linear(),wi,Ai)};var Si=wi.map(function(t){return[t[0].utc,t[1]]}),Ci=ke([[d3.time.format.utc("%Y"),function(t){return!0}],[d3.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[d3.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[d3.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]]);Si.year=function(t,n){return Ni.domain(t.map(Ce)).ticks(n).map(Se)},d3.time.scale.utc=function(){return _e(d3.scale.linear(),Si,Ci)}}();